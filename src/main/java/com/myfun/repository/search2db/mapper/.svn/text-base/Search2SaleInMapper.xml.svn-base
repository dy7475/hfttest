<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myfun.repository.search2db.dao.Search2SaleInMapper">
  <resultMap id="BaseResultMap" type="com.myfun.repository.search2db.po.Search2SaleIn">
    <!--@mbggenerated-->
    <id column="province_id" jdbcType="TINYINT" property="provinceId" />
    <id column="city_id" jdbcType="SMALLINT" property="cityId" />
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="in_time" jdbcType="TIMESTAMP" property="inTime" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="owner" jdbcType="VARCHAR" property="owner" />
    <result column="mobile_phone" jdbcType="VARCHAR" property="mobilePhone" />
    <result column="tele_phone" jdbcType="VARCHAR" property="telePhone" />
    <result column="build_name" jdbcType="VARCHAR" property="buildName" />
    <result column="region" jdbcType="VARCHAR" property="region" />
    <result column="sectors" jdbcType="VARCHAR" property="sectors" />
    <result column="round" jdbcType="VARCHAR" property="round" />
    <result column="section" jdbcType="VARCHAR" property="section" />
    <result column="room" jdbcType="INTEGER" property="room" />
    <result column="hall" jdbcType="INTEGER" property="hall" />
    <result column="wei" jdbcType="INTEGER" property="wei" />
    <result column="yang" jdbcType="INTEGER" property="yang" />
    <result column="house_type" jdbcType="VARCHAR" property="houseType" />
    <result column="floor" jdbcType="INTEGER" property="floor" />
    <result column="floors" jdbcType="INTEGER" property="floors" />
    <result column="fitment" jdbcType="VARCHAR" property="fitment" />
    <result column="direct" jdbcType="VARCHAR" property="direct" />
    <result column="house_year" jdbcType="VARCHAR" property="houseYear" />
    <result column="house_struct" jdbcType="VARCHAR" property="houseStruct" />
    <result column="useage" jdbcType="VARCHAR" property="useage" />
    <result column="house_right" jdbcType="VARCHAR" property="houseRight" />
    <result column="house_account" jdbcType="VARCHAR" property="houseAccount" />
    <result column="area" jdbcType="DOUBLE" property="area" />
    <result column="area2" jdbcType="DOUBLE" property="area2" />
    <result column="total_price" jdbcType="DOUBLE" property="totalPrice" />
    <result column="unit_price" jdbcType="INTEGER" property="unitPrice" />
    <result column="leave_time" jdbcType="VARCHAR" property="leaveTime" />
    <result column="charact" jdbcType="VARCHAR" property="charact" />
    <result column="site_id" jdbcType="INTEGER" property="siteId" />
    <result column="primitive_id" jdbcType="VARCHAR" property="primitiveId" />
    <result column="site_name" jdbcType="VARCHAR" property="siteName" />
    <result column="tel_count" jdbcType="TINYINT" property="telCount" />
    <result column="page_sours" jdbcType="VARCHAR" property="pageSours" />
    <result column="tel_source" jdbcType="VARCHAR" property="telSource" />
    <result column="status_flag" jdbcType="TINYINT" property="statusFlag" />
    <result column="position_x" jdbcType="VARCHAR" property="positionX" />
    <result column="position_y" jdbcType="VARCHAR" property="positionY" />
    <result column="img_flag" jdbcType="TINYINT" property="imgFlag" />
    <result column="small_pic" jdbcType="VARCHAR" property="smallPic" />
    <result column="roof_num" jdbcType="VARCHAR" property="roofNum" />
    <result column="refresh_flag" jdbcType="BIT" property="refreshFlag" />
    <result column="ext_bit" jdbcType="INTEGER" property="extBit" />
    <result column="data_source" jdbcType="INTEGER" property="dataSource" />
    <result column="relate_id" jdbcType="INTEGER" property="relateId" />
    <result column="show_tel" jdbcType="TINYINT" property="showTel" />
    <result column="show_other" jdbcType="TINYINT" property="showOther" />
    <result column="vip_flag" jdbcType="TINYINT" property="vipFlag" />
    <result column="vip_repeat" jdbcType="TINYINT" property="vipRepeat" />
    <result column="vip_down_time" jdbcType="TIMESTAMP" property="vipDownTime" />
    <result column="vip_refund_time" jdbcType="TIMESTAMP" property="vipRefundTime" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="pub_time" jdbcType="TIMESTAMP" property="pubTime" />
    <result column="PUSHMSG_LOCKFLAG" jdbcType="TINYINT" property="pushmsgLockflag" />
    <result column="LAST_PUSHMSG_TIME" jdbcType="TIMESTAMP" property="lastPushmsgTime" />
    <result column="build_id" jdbcType="INTEGER" property="buildId" />
    <result column="section_id" jdbcType="INTEGER" property="sectionId" />
    <result column="region_id" jdbcType="INTEGER" property="regionId" />
    <result column="MONGO_DELETE" jdbcType="TINYINT" property="mongoDelete" />
    <result column="img_download" jdbcType="INTEGER" property="imgDownload" />
    <result column="COMPLAINT_AGENCY" jdbcType="INTEGER" property="complaintAgency" />
    <result column="COMPLAINT_FAKE" jdbcType="INTEGER" property="complaintFake" />
    <result column="COMPLAINT_SOLD" jdbcType="INTEGER" property="complaintSold" />
    <result column="COMPLAINT_KEEP" jdbcType="INTEGER" property="complaintKeep" />
    <result column="REPEAT_ID" jdbcType="INTEGER" property="repeatId" />
    <result column="SITE_FLAG" jdbcType="INTEGER" property="siteFlag" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--@mbggenerated-->
    province_id, city_id, id, in_time, title, [owner], mobile_phone, tele_phone, build_name, 
    region, sectors, round, [section], room, hall, wei, yang, house_type, [floor], floors, 
    fitment, direct, house_year, house_struct, useage, house_right, house_account, area, 
    area2, total_price, unit_price, leave_time, charact, site_id, primitive_id, site_name, 
    tel_count, page_sours, tel_source, status_flag, position_x, position_y, img_flag, 
    small_pic, roof_num, refresh_flag, ext_bit, data_source, relate_id, show_tel, show_other, 
    vip_flag, vip_repeat, vip_down_time, vip_refund_time, update_time, pub_time, PUSHMSG_LOCKFLAG, 
    LAST_PUSHMSG_TIME, build_id, section_id, region_id, MONGO_DELETE, img_download, COMPLAINT_AGENCY, 
    COMPLAINT_FAKE, COMPLAINT_SOLD, COMPLAINT_KEEP, REPEAT_ID, SITE_FLAG
  </sql>
  <select id="selectByPrimaryKey" parameterType="com.myfun.repository.search2db.po.Search2SaleInKey" resultMap="BaseResultMap">
    <!--@mbggenerated-->
    select 
    <include refid="Base_Column_List" />
    from sale_in
    where province_id = #{provinceId,jdbcType=TINYINT}
      and city_id = #{cityId,jdbcType=SMALLINT}
      and id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.myfun.repository.search2db.po.Search2SaleInKey">
    <!--@mbggenerated-->
    delete from sale_in
    where province_id = #{provinceId,jdbcType=TINYINT}
      and city_id = #{cityId,jdbcType=SMALLINT}
      and id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.myfun.repository.search2db.po.Search2SaleIn">
    <!--@mbggenerated-->
    insert into sale_in (province_id, city_id, id, 
      in_time, title, [owner], 
      mobile_phone, tele_phone, build_name, 
      region, sectors, round, 
      [section], room, hall, 
      wei, yang, house_type, 
      [floor], floors, fitment, 
      direct, house_year, house_struct, 
      useage, house_right, house_account, 
      area, area2, total_price, 
      unit_price, leave_time, charact, 
      site_id, primitive_id, site_name, 
      tel_count, page_sours, tel_source, 
      status_flag, position_x, position_y, 
      img_flag, small_pic, roof_num, 
      refresh_flag, ext_bit, data_source, 
      relate_id, show_tel, show_other, 
      vip_flag, vip_repeat, vip_down_time, 
      vip_refund_time, update_time, pub_time, 
      PUSHMSG_LOCKFLAG, LAST_PUSHMSG_TIME, build_id, 
      section_id, region_id, MONGO_DELETE, 
      img_download, COMPLAINT_AGENCY, COMPLAINT_FAKE, 
      COMPLAINT_SOLD, COMPLAINT_KEEP, REPEAT_ID, 
      SITE_FLAG)
    values (#{provinceId,jdbcType=TINYINT}, #{cityId,jdbcType=SMALLINT}, #{id,jdbcType=INTEGER}, 
      #{inTime,jdbcType=TIMESTAMP}, #{title,jdbcType=VARCHAR}, #{owner,jdbcType=VARCHAR}, 
      #{mobilePhone,jdbcType=VARCHAR}, #{telePhone,jdbcType=VARCHAR}, #{buildName,jdbcType=VARCHAR}, 
      #{region,jdbcType=VARCHAR}, #{sectors,jdbcType=VARCHAR}, #{round,jdbcType=VARCHAR}, 
      #{section,jdbcType=VARCHAR}, #{room,jdbcType=INTEGER}, #{hall,jdbcType=INTEGER}, 
      #{wei,jdbcType=INTEGER}, #{yang,jdbcType=INTEGER}, #{houseType,jdbcType=VARCHAR}, 
      #{floor,jdbcType=INTEGER}, #{floors,jdbcType=INTEGER}, #{fitment,jdbcType=VARCHAR}, 
      #{direct,jdbcType=VARCHAR}, #{houseYear,jdbcType=VARCHAR}, #{houseStruct,jdbcType=VARCHAR}, 
      #{useage,jdbcType=VARCHAR}, #{houseRight,jdbcType=VARCHAR}, #{houseAccount,jdbcType=VARCHAR}, 
      #{area,jdbcType=DOUBLE}, #{area2,jdbcType=DOUBLE}, #{totalPrice,jdbcType=DOUBLE}, 
      #{unitPrice,jdbcType=INTEGER}, #{leaveTime,jdbcType=VARCHAR}, #{charact,jdbcType=VARCHAR}, 
      #{siteId,jdbcType=INTEGER}, #{primitiveId,jdbcType=VARCHAR}, #{siteName,jdbcType=VARCHAR}, 
      #{telCount,jdbcType=TINYINT}, #{pageSours,jdbcType=VARCHAR}, #{telSource,jdbcType=VARCHAR}, 
      #{statusFlag,jdbcType=TINYINT}, #{positionX,jdbcType=VARCHAR}, #{positionY,jdbcType=VARCHAR}, 
      #{imgFlag,jdbcType=TINYINT}, #{smallPic,jdbcType=VARCHAR}, #{roofNum,jdbcType=VARCHAR}, 
      #{refreshFlag,jdbcType=BIT}, #{extBit,jdbcType=INTEGER}, #{dataSource,jdbcType=INTEGER}, 
      #{relateId,jdbcType=INTEGER}, #{showTel,jdbcType=TINYINT}, #{showOther,jdbcType=TINYINT}, 
      #{vipFlag,jdbcType=TINYINT}, #{vipRepeat,jdbcType=TINYINT}, #{vipDownTime,jdbcType=TIMESTAMP}, 
      #{vipRefundTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP}, #{pubTime,jdbcType=TIMESTAMP}, 
      #{pushmsgLockflag,jdbcType=TINYINT}, #{lastPushmsgTime,jdbcType=TIMESTAMP}, #{buildId,jdbcType=INTEGER}, 
      #{sectionId,jdbcType=INTEGER}, #{regionId,jdbcType=INTEGER}, #{mongoDelete,jdbcType=TINYINT}, 
      #{imgDownload,jdbcType=INTEGER}, #{complaintAgency,jdbcType=INTEGER}, #{complaintFake,jdbcType=INTEGER}, 
      #{complaintSold,jdbcType=INTEGER}, #{complaintKeep,jdbcType=INTEGER}, #{repeatId,jdbcType=INTEGER}, 
      #{siteFlag,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.myfun.repository.search2db.po.Search2SaleIn">
    <!--@mbggenerated-->
    insert into sale_in
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="provinceId != null">
        province_id,
      </if>
      <if test="cityId != null">
        city_id,
      </if>
      <if test="id != null">
        id,
      </if>
      <if test="inTime != null">
        in_time,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="owner != null">
        [owner],
      </if>
      <if test="mobilePhone != null">
        mobile_phone,
      </if>
      <if test="telePhone != null">
        tele_phone,
      </if>
      <if test="buildName != null">
        build_name,
      </if>
      <if test="region != null">
        region,
      </if>
      <if test="sectors != null">
        sectors,
      </if>
      <if test="round != null">
        round,
      </if>
      <if test="section != null">
        [section],
      </if>
      <if test="room != null">
        room,
      </if>
      <if test="hall != null">
        hall,
      </if>
      <if test="wei != null">
        wei,
      </if>
      <if test="yang != null">
        yang,
      </if>
      <if test="houseType != null">
        house_type,
      </if>
      <if test="floor != null">
        [floor],
      </if>
      <if test="floors != null">
        floors,
      </if>
      <if test="fitment != null">
        fitment,
      </if>
      <if test="direct != null">
        direct,
      </if>
      <if test="houseYear != null">
        house_year,
      </if>
      <if test="houseStruct != null">
        house_struct,
      </if>
      <if test="useage != null">
        useage,
      </if>
      <if test="houseRight != null">
        house_right,
      </if>
      <if test="houseAccount != null">
        house_account,
      </if>
      <if test="area != null">
        area,
      </if>
      <if test="area2 != null">
        area2,
      </if>
      <if test="totalPrice != null">
        total_price,
      </if>
      <if test="unitPrice != null">
        unit_price,
      </if>
      <if test="leaveTime != null">
        leave_time,
      </if>
      <if test="charact != null">
        charact,
      </if>
      <if test="siteId != null">
        site_id,
      </if>
      <if test="primitiveId != null">
        primitive_id,
      </if>
      <if test="siteName != null">
        site_name,
      </if>
      <if test="telCount != null">
        tel_count,
      </if>
      <if test="pageSours != null">
        page_sours,
      </if>
      <if test="telSource != null">
        tel_source,
      </if>
      <if test="statusFlag != null">
        status_flag,
      </if>
      <if test="positionX != null">
        position_x,
      </if>
      <if test="positionY != null">
        position_y,
      </if>
      <if test="imgFlag != null">
        img_flag,
      </if>
      <if test="smallPic != null">
        small_pic,
      </if>
      <if test="roofNum != null">
        roof_num,
      </if>
      <if test="refreshFlag != null">
        refresh_flag,
      </if>
      <if test="extBit != null">
        ext_bit,
      </if>
      <if test="dataSource != null">
        data_source,
      </if>
      <if test="relateId != null">
        relate_id,
      </if>
      <if test="showTel != null">
        show_tel,
      </if>
      <if test="showOther != null">
        show_other,
      </if>
      <if test="vipFlag != null">
        vip_flag,
      </if>
      <if test="vipRepeat != null">
        vip_repeat,
      </if>
      <if test="vipDownTime != null">
        vip_down_time,
      </if>
      <if test="vipRefundTime != null">
        vip_refund_time,
      </if>
      <if test="updateTime != null">
        update_time,
      </if>
      <if test="pubTime != null">
        pub_time,
      </if>
      <if test="pushmsgLockflag != null">
        PUSHMSG_LOCKFLAG,
      </if>
      <if test="lastPushmsgTime != null">
        LAST_PUSHMSG_TIME,
      </if>
      <if test="buildId != null">
        build_id,
      </if>
      <if test="sectionId != null">
        section_id,
      </if>
      <if test="regionId != null">
        region_id,
      </if>
      <if test="mongoDelete != null">
        MONGO_DELETE,
      </if>
      <if test="imgDownload != null">
        img_download,
      </if>
      <if test="complaintAgency != null">
        COMPLAINT_AGENCY,
      </if>
      <if test="complaintFake != null">
        COMPLAINT_FAKE,
      </if>
      <if test="complaintSold != null">
        COMPLAINT_SOLD,
      </if>
      <if test="complaintKeep != null">
        COMPLAINT_KEEP,
      </if>
      <if test="repeatId != null">
        REPEAT_ID,
      </if>
      <if test="siteFlag != null">
        SITE_FLAG,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="provinceId != null">
        #{provinceId,jdbcType=TINYINT},
      </if>
      <if test="cityId != null">
        #{cityId,jdbcType=SMALLINT},
      </if>
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="inTime != null">
        #{inTime,jdbcType=TIMESTAMP},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="owner != null">
        #{owner,jdbcType=VARCHAR},
      </if>
      <if test="mobilePhone != null">
        #{mobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="telePhone != null">
        #{telePhone,jdbcType=VARCHAR},
      </if>
      <if test="buildName != null">
        #{buildName,jdbcType=VARCHAR},
      </if>
      <if test="region != null">
        #{region,jdbcType=VARCHAR},
      </if>
      <if test="sectors != null">
        #{sectors,jdbcType=VARCHAR},
      </if>
      <if test="round != null">
        #{round,jdbcType=VARCHAR},
      </if>
      <if test="section != null">
        #{section,jdbcType=VARCHAR},
      </if>
      <if test="room != null">
        #{room,jdbcType=INTEGER},
      </if>
      <if test="hall != null">
        #{hall,jdbcType=INTEGER},
      </if>
      <if test="wei != null">
        #{wei,jdbcType=INTEGER},
      </if>
      <if test="yang != null">
        #{yang,jdbcType=INTEGER},
      </if>
      <if test="houseType != null">
        #{houseType,jdbcType=VARCHAR},
      </if>
      <if test="floor != null">
        #{floor,jdbcType=INTEGER},
      </if>
      <if test="floors != null">
        #{floors,jdbcType=INTEGER},
      </if>
      <if test="fitment != null">
        #{fitment,jdbcType=VARCHAR},
      </if>
      <if test="direct != null">
        #{direct,jdbcType=VARCHAR},
      </if>
      <if test="houseYear != null">
        #{houseYear,jdbcType=VARCHAR},
      </if>
      <if test="houseStruct != null">
        #{houseStruct,jdbcType=VARCHAR},
      </if>
      <if test="useage != null">
        #{useage,jdbcType=VARCHAR},
      </if>
      <if test="houseRight != null">
        #{houseRight,jdbcType=VARCHAR},
      </if>
      <if test="houseAccount != null">
        #{houseAccount,jdbcType=VARCHAR},
      </if>
      <if test="area != null">
        #{area,jdbcType=DOUBLE},
      </if>
      <if test="area2 != null">
        #{area2,jdbcType=DOUBLE},
      </if>
      <if test="totalPrice != null">
        #{totalPrice,jdbcType=DOUBLE},
      </if>
      <if test="unitPrice != null">
        #{unitPrice,jdbcType=INTEGER},
      </if>
      <if test="leaveTime != null">
        #{leaveTime,jdbcType=VARCHAR},
      </if>
      <if test="charact != null">
        #{charact,jdbcType=VARCHAR},
      </if>
      <if test="siteId != null">
        #{siteId,jdbcType=INTEGER},
      </if>
      <if test="primitiveId != null">
        #{primitiveId,jdbcType=VARCHAR},
      </if>
      <if test="siteName != null">
        #{siteName,jdbcType=VARCHAR},
      </if>
      <if test="telCount != null">
        #{telCount,jdbcType=TINYINT},
      </if>
      <if test="pageSours != null">
        #{pageSours,jdbcType=VARCHAR},
      </if>
      <if test="telSource != null">
        #{telSource,jdbcType=VARCHAR},
      </if>
      <if test="statusFlag != null">
        #{statusFlag,jdbcType=TINYINT},
      </if>
      <if test="positionX != null">
        #{positionX,jdbcType=VARCHAR},
      </if>
      <if test="positionY != null">
        #{positionY,jdbcType=VARCHAR},
      </if>
      <if test="imgFlag != null">
        #{imgFlag,jdbcType=TINYINT},
      </if>
      <if test="smallPic != null">
        #{smallPic,jdbcType=VARCHAR},
      </if>
      <if test="roofNum != null">
        #{roofNum,jdbcType=VARCHAR},
      </if>
      <if test="refreshFlag != null">
        #{refreshFlag,jdbcType=BIT},
      </if>
      <if test="extBit != null">
        #{extBit,jdbcType=INTEGER},
      </if>
      <if test="dataSource != null">
        #{dataSource,jdbcType=INTEGER},
      </if>
      <if test="relateId != null">
        #{relateId,jdbcType=INTEGER},
      </if>
      <if test="showTel != null">
        #{showTel,jdbcType=TINYINT},
      </if>
      <if test="showOther != null">
        #{showOther,jdbcType=TINYINT},
      </if>
      <if test="vipFlag != null">
        #{vipFlag,jdbcType=TINYINT},
      </if>
      <if test="vipRepeat != null">
        #{vipRepeat,jdbcType=TINYINT},
      </if>
      <if test="vipDownTime != null">
        #{vipDownTime,jdbcType=TIMESTAMP},
      </if>
      <if test="vipRefundTime != null">
        #{vipRefundTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pubTime != null">
        #{pubTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pushmsgLockflag != null">
        #{pushmsgLockflag,jdbcType=TINYINT},
      </if>
      <if test="lastPushmsgTime != null">
        #{lastPushmsgTime,jdbcType=TIMESTAMP},
      </if>
      <if test="buildId != null">
        #{buildId,jdbcType=INTEGER},
      </if>
      <if test="sectionId != null">
        #{sectionId,jdbcType=INTEGER},
      </if>
      <if test="regionId != null">
        #{regionId,jdbcType=INTEGER},
      </if>
      <if test="mongoDelete != null">
        #{mongoDelete,jdbcType=TINYINT},
      </if>
      <if test="imgDownload != null">
        #{imgDownload,jdbcType=INTEGER},
      </if>
      <if test="complaintAgency != null">
        #{complaintAgency,jdbcType=INTEGER},
      </if>
      <if test="complaintFake != null">
        #{complaintFake,jdbcType=INTEGER},
      </if>
      <if test="complaintSold != null">
        #{complaintSold,jdbcType=INTEGER},
      </if>
      <if test="complaintKeep != null">
        #{complaintKeep,jdbcType=INTEGER},
      </if>
      <if test="repeatId != null">
        #{repeatId,jdbcType=INTEGER},
      </if>
      <if test="siteFlag != null">
        #{siteFlag,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.myfun.repository.search2db.po.Search2SaleIn">
    <!--@mbggenerated-->
    update sale_in
    <set>
      <if test="inTime != null">
        in_time = #{inTime,jdbcType=TIMESTAMP},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="owner != null">
        [owner] = #{owner,jdbcType=VARCHAR},
      </if>
      <if test="mobilePhone != null">
        mobile_phone = #{mobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="telePhone != null">
        tele_phone = #{telePhone,jdbcType=VARCHAR},
      </if>
      <if test="buildName != null">
        build_name = #{buildName,jdbcType=VARCHAR},
      </if>
      <if test="region != null">
        region = #{region,jdbcType=VARCHAR},
      </if>
      <if test="sectors != null">
        sectors = #{sectors,jdbcType=VARCHAR},
      </if>
      <if test="round != null">
        round = #{round,jdbcType=VARCHAR},
      </if>
      <if test="section != null">
        [section] = #{section,jdbcType=VARCHAR},
      </if>
      <if test="room != null">
        room = #{room,jdbcType=INTEGER},
      </if>
      <if test="hall != null">
        hall = #{hall,jdbcType=INTEGER},
      </if>
      <if test="wei != null">
        wei = #{wei,jdbcType=INTEGER},
      </if>
      <if test="yang != null">
        yang = #{yang,jdbcType=INTEGER},
      </if>
      <if test="houseType != null">
        house_type = #{houseType,jdbcType=VARCHAR},
      </if>
      <if test="floor != null">
        [floor] = #{floor,jdbcType=INTEGER},
      </if>
      <if test="floors != null">
        floors = #{floors,jdbcType=INTEGER},
      </if>
      <if test="fitment != null">
        fitment = #{fitment,jdbcType=VARCHAR},
      </if>
      <if test="direct != null">
        direct = #{direct,jdbcType=VARCHAR},
      </if>
      <if test="houseYear != null">
        house_year = #{houseYear,jdbcType=VARCHAR},
      </if>
      <if test="houseStruct != null">
        house_struct = #{houseStruct,jdbcType=VARCHAR},
      </if>
      <if test="useage != null">
        useage = #{useage,jdbcType=VARCHAR},
      </if>
      <if test="houseRight != null">
        house_right = #{houseRight,jdbcType=VARCHAR},
      </if>
      <if test="houseAccount != null">
        house_account = #{houseAccount,jdbcType=VARCHAR},
      </if>
      <if test="area != null">
        area = #{area,jdbcType=DOUBLE},
      </if>
      <if test="area2 != null">
        area2 = #{area2,jdbcType=DOUBLE},
      </if>
      <if test="totalPrice != null">
        total_price = #{totalPrice,jdbcType=DOUBLE},
      </if>
      <if test="unitPrice != null">
        unit_price = #{unitPrice,jdbcType=INTEGER},
      </if>
      <if test="leaveTime != null">
        leave_time = #{leaveTime,jdbcType=VARCHAR},
      </if>
      <if test="charact != null">
        charact = #{charact,jdbcType=VARCHAR},
      </if>
      <if test="siteId != null">
        site_id = #{siteId,jdbcType=INTEGER},
      </if>
      <if test="primitiveId != null">
        primitive_id = #{primitiveId,jdbcType=VARCHAR},
      </if>
      <if test="siteName != null">
        site_name = #{siteName,jdbcType=VARCHAR},
      </if>
      <if test="telCount != null">
        tel_count = #{telCount,jdbcType=TINYINT},
      </if>
      <if test="pageSours != null">
        page_sours = #{pageSours,jdbcType=VARCHAR},
      </if>
      <if test="telSource != null">
        tel_source = #{telSource,jdbcType=VARCHAR},
      </if>
      <if test="statusFlag != null">
        status_flag = #{statusFlag,jdbcType=TINYINT},
      </if>
      <if test="positionX != null">
        position_x = #{positionX,jdbcType=VARCHAR},
      </if>
      <if test="positionY != null">
        position_y = #{positionY,jdbcType=VARCHAR},
      </if>
      <if test="imgFlag != null">
        img_flag = #{imgFlag,jdbcType=TINYINT},
      </if>
      <if test="smallPic != null">
        small_pic = #{smallPic,jdbcType=VARCHAR},
      </if>
      <if test="roofNum != null">
        roof_num = #{roofNum,jdbcType=VARCHAR},
      </if>
      <if test="refreshFlag != null">
        refresh_flag = #{refreshFlag,jdbcType=BIT},
      </if>
      <if test="extBit != null">
        ext_bit = #{extBit,jdbcType=INTEGER},
      </if>
      <if test="dataSource != null">
        data_source = #{dataSource,jdbcType=INTEGER},
      </if>
      <if test="relateId != null">
        relate_id = #{relateId,jdbcType=INTEGER},
      </if>
      <if test="showTel != null">
        show_tel = #{showTel,jdbcType=TINYINT},
      </if>
      <if test="showOther != null">
        show_other = #{showOther,jdbcType=TINYINT},
      </if>
      <if test="vipFlag != null">
        vip_flag = #{vipFlag,jdbcType=TINYINT},
      </if>
      <if test="vipRepeat != null">
        vip_repeat = #{vipRepeat,jdbcType=TINYINT},
      </if>
      <if test="vipDownTime != null">
        vip_down_time = #{vipDownTime,jdbcType=TIMESTAMP},
      </if>
      <if test="vipRefundTime != null">
        vip_refund_time = #{vipRefundTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pubTime != null">
        pub_time = #{pubTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pushmsgLockflag != null">
        PUSHMSG_LOCKFLAG = #{pushmsgLockflag,jdbcType=TINYINT},
      </if>
      <if test="lastPushmsgTime != null">
        LAST_PUSHMSG_TIME = #{lastPushmsgTime,jdbcType=TIMESTAMP},
      </if>
      <if test="buildId != null">
        build_id = #{buildId,jdbcType=INTEGER},
      </if>
      <if test="sectionId != null">
        section_id = #{sectionId,jdbcType=INTEGER},
      </if>
      <if test="regionId != null">
        region_id = #{regionId,jdbcType=INTEGER},
      </if>
      <if test="mongoDelete != null">
        MONGO_DELETE = #{mongoDelete,jdbcType=TINYINT},
      </if>
      <if test="imgDownload != null">
        img_download = #{imgDownload,jdbcType=INTEGER},
      </if>
      <if test="complaintAgency != null">
        COMPLAINT_AGENCY = #{complaintAgency,jdbcType=INTEGER},
      </if>
      <if test="complaintFake != null">
        COMPLAINT_FAKE = #{complaintFake,jdbcType=INTEGER},
      </if>
      <if test="complaintSold != null">
        COMPLAINT_SOLD = #{complaintSold,jdbcType=INTEGER},
      </if>
      <if test="complaintKeep != null">
        COMPLAINT_KEEP = #{complaintKeep,jdbcType=INTEGER},
      </if>
      <if test="repeatId != null">
        REPEAT_ID = #{repeatId,jdbcType=INTEGER},
      </if>
      <if test="siteFlag != null">
        SITE_FLAG = #{siteFlag,jdbcType=INTEGER},
      </if>
    </set>
    where province_id = #{provinceId,jdbcType=TINYINT}
      and city_id = #{cityId,jdbcType=SMALLINT}
      and id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.myfun.repository.search2db.po.Search2SaleIn">
    <!--@mbggenerated-->
    update sale_in
    set in_time = #{inTime,jdbcType=TIMESTAMP},
      title = #{title,jdbcType=VARCHAR},
      [owner] = #{owner,jdbcType=VARCHAR},
      mobile_phone = #{mobilePhone,jdbcType=VARCHAR},
      tele_phone = #{telePhone,jdbcType=VARCHAR},
      build_name = #{buildName,jdbcType=VARCHAR},
      region = #{region,jdbcType=VARCHAR},
      sectors = #{sectors,jdbcType=VARCHAR},
      round = #{round,jdbcType=VARCHAR},
      [section] = #{section,jdbcType=VARCHAR},
      room = #{room,jdbcType=INTEGER},
      hall = #{hall,jdbcType=INTEGER},
      wei = #{wei,jdbcType=INTEGER},
      yang = #{yang,jdbcType=INTEGER},
      house_type = #{houseType,jdbcType=VARCHAR},
      [floor] = #{floor,jdbcType=INTEGER},
      floors = #{floors,jdbcType=INTEGER},
      fitment = #{fitment,jdbcType=VARCHAR},
      direct = #{direct,jdbcType=VARCHAR},
      house_year = #{houseYear,jdbcType=VARCHAR},
      house_struct = #{houseStruct,jdbcType=VARCHAR},
      useage = #{useage,jdbcType=VARCHAR},
      house_right = #{houseRight,jdbcType=VARCHAR},
      house_account = #{houseAccount,jdbcType=VARCHAR},
      area = #{area,jdbcType=DOUBLE},
      area2 = #{area2,jdbcType=DOUBLE},
      total_price = #{totalPrice,jdbcType=DOUBLE},
      unit_price = #{unitPrice,jdbcType=INTEGER},
      leave_time = #{leaveTime,jdbcType=VARCHAR},
      charact = #{charact,jdbcType=VARCHAR},
      site_id = #{siteId,jdbcType=INTEGER},
      primitive_id = #{primitiveId,jdbcType=VARCHAR},
      site_name = #{siteName,jdbcType=VARCHAR},
      tel_count = #{telCount,jdbcType=TINYINT},
      page_sours = #{pageSours,jdbcType=VARCHAR},
      tel_source = #{telSource,jdbcType=VARCHAR},
      status_flag = #{statusFlag,jdbcType=TINYINT},
      position_x = #{positionX,jdbcType=VARCHAR},
      position_y = #{positionY,jdbcType=VARCHAR},
      img_flag = #{imgFlag,jdbcType=TINYINT},
      small_pic = #{smallPic,jdbcType=VARCHAR},
      roof_num = #{roofNum,jdbcType=VARCHAR},
      refresh_flag = #{refreshFlag,jdbcType=BIT},
      ext_bit = #{extBit,jdbcType=INTEGER},
      data_source = #{dataSource,jdbcType=INTEGER},
      relate_id = #{relateId,jdbcType=INTEGER},
      show_tel = #{showTel,jdbcType=TINYINT},
      show_other = #{showOther,jdbcType=TINYINT},
      vip_flag = #{vipFlag,jdbcType=TINYINT},
      vip_repeat = #{vipRepeat,jdbcType=TINYINT},
      vip_down_time = #{vipDownTime,jdbcType=TIMESTAMP},
      vip_refund_time = #{vipRefundTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
      pub_time = #{pubTime,jdbcType=TIMESTAMP},
      PUSHMSG_LOCKFLAG = #{pushmsgLockflag,jdbcType=TINYINT},
      LAST_PUSHMSG_TIME = #{lastPushmsgTime,jdbcType=TIMESTAMP},
      build_id = #{buildId,jdbcType=INTEGER},
      section_id = #{sectionId,jdbcType=INTEGER},
      region_id = #{regionId,jdbcType=INTEGER},
      MONGO_DELETE = #{mongoDelete,jdbcType=TINYINT},
      img_download = #{imgDownload,jdbcType=INTEGER},
      COMPLAINT_AGENCY = #{complaintAgency,jdbcType=INTEGER},
      COMPLAINT_FAKE = #{complaintFake,jdbcType=INTEGER},
      COMPLAINT_SOLD = #{complaintSold,jdbcType=INTEGER},
      COMPLAINT_KEEP = #{complaintKeep,jdbcType=INTEGER},
      REPEAT_ID = #{repeatId,jdbcType=INTEGER},
      SITE_FLAG = #{siteFlag,jdbcType=INTEGER}
    where province_id = #{provinceId,jdbcType=TINYINT}
      and city_id = #{cityId,jdbcType=SMALLINT}
      and id = #{id,jdbcType=INTEGER}
  </update>
  <resultMap extends="BaseResultMap" id="Search2SaleInDto" type="com.myfun.repository.searchdb.dto.SearchSaleInDto">
    <result column="title" property="title" />
    <result column="region" property="region" />
    <result column="useage" property="useage" />
    <result column="house_type" property="houseType" />
    <result column="build_name" property="buildName" />
    <result column="site_name" property="siteName" />
    <result column="page_sours" property="pageSours" />
    <result column="readed" property="readed" />
    <result column="VIEW_TIME" property="viewTime" />
    <result column="CONVERT_TIME" property="convertTime" />
    <result column="conerted" property="conerted" />
    <result column="COMPLAINT_FLAG" property="complaintFlag" />
    <result column="COMPLAINT_TIME" property="complaintTime" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="Search2SaleInDataInfoDto" type="com.myfun.repository.searchdb.dto.SearchSaleInDataInfoDto">
    <result column="property" property="property" />
    <result column="is_seperator" property="isSeperator" />
    <result column="office_level" property="officeLevel" />
    <result column="shop_usage" property="shopUsage" />
    <result column="hall_structure" property="hallStructure" />
    <result column="ug_area" property="ugArea" />
    <result column="ug_type" property="ugType" />
    <result column="garden_area" property="gardenArea" />
    <result column="garage_amount" property="garageAmount" />
    <result column="house_set" property="houseSet" />
    <result column="readed" property="readed" />
    <result column="COMPLAINT_FLAG" property="complaintFlag" />
    <result column="COMPLAINT_TIME" property="complaintTime" />
  </resultMap>
  	
  <resultMap id="searchdtoMap" type="com.myfun.repository.searchdb.dto.SearchRepeatDto">
  	<!-- BUILD_NAME, HALL, ROOM, FLOOR, FLOORS, FITMENT, AREA, TOTAL_PRICE, ADD_TIME, HOUSE_TYPE, STATUS -->
   	<result column="BUILD_NAME" jdbcType="VARCHAR" property="buildName" />
   	<result column="HALL" jdbcType="VARCHAR" property="hall" />
   	<result column="ROOM" jdbcType="VARCHAR" property="room" />
   	<result column="FLOOR" jdbcType="VARCHAR" property="floor" />
   	<result column="FLOORS" jdbcType="VARCHAR" property="floors" />
   	<result column="FITMENT" jdbcType="VARCHAR" property="fitment" />
   	<result column="AREA" jdbcType="VARCHAR" property="area" />
   	<result column="TOTAL_PRICE" jdbcType="VARCHAR" property="totalPrice" />
   	<result column="ADD_TIME" jdbcType="VARCHAR" property="addTime" />
   	<result column="HOUSE_TYPE" jdbcType="VARCHAR" property="houseType" />
   	<result column="STATUS" jdbcType="VARCHAR" property="status" />
  </resultMap>	
  	 
  <resultMap id="getCaseInfoMap" type="com.myfun.repository.agencydb.dto.AgencyCommentDto">
  	<result column="CLIENT_ID" jdbcType="VARCHAR" property="clientId" />
    <result column="PERIOD" jdbcType="VARCHAR" property="period" />
  </resultMap>
  <!-- business -->
  <select id="getSaleInList" parameterType="com.myfun.repository.searchdb.param.SaleInParam" resultMap="BaseResultMap">
  	 select 
    <include refid="Base_Column_List" />
    from SALE_IN
    where in_time &gt;=  #{dateStart}
		AND in_time &lt;= #{endDate}
	  <if test="provinceId != null">
        and province_id = #{provinceId,jdbcType=TINYINT}
      </if>
      <if test="cityId != null">
        and city_id = #{cityId,jdbcType=SMALLINT}
      </if>
      <if test="mobilePhone != null and mobilePhone != ''">
        AND mobile_phone = #{mobilePhone,jdbcType=VARCHAR}
      </if>
        <if test="siteId != null and siteId != ''">
        And site_id = #{siteId,jdbcType=VARCHAR}
      </if>
        <if test="keyWords != null and keyWords != ''">
        AND (title LIKE '%${keyWords}%' OR build_name LIKE '%${keyWords}%' OR charact LIKE '%${keyWords}%')
      </if>
      <if test="status != null and status != '' and status != '0'">
        AND status_flag = #{status}
      </if>
      <if test="status != null and status == '0'">
        AND status_flag  <![CDATA[ < 2 ]]>
      </if>
    ORDER BY in_time DESC
  </select>
  
  <select id="getStatueFlag" resultType="java.lang.Integer">
  	select count(*) from ${tableName} where status_flag = 10 and id in 
  	<foreach close=")" collection="ids" index="index" item="item" open="(" separator=",">  
		  #{item}  
	 </foreach> 
  </select>
  
   <select id="getVipFlag" resultType="java.lang.Integer">
  	select count(*) from ${tableName} where vip_flag = 1 and id in
  	<foreach close=")" collection="ids" index="index" item="item" open="(" separator=",">  
		  #{item}  
	 </foreach> 
  </select>
  
  <update id="updateStatusByids">
  	update ${tableName} set status_flag = 10 where id in 
  	<foreach close=")" collection="ids" index="index" item="item" open="(" separator=",">  
		  #{item}  
	 </foreach> 
  </update>
  
  <select id="isUpHouse" resultType="java.lang.Integer">
  	select count(*) from ${tableName} where status_flag in (0,1) and id in 
  	<foreach close=")" collection="ids" index="index" item="item" open="(" separator=",">  
		  #{item}  
	 </foreach> 
  </select>
  
  <update id="updateStatusForUpByids">
 	 update ${tableName} set status_flag = 0 where id in 
  	<foreach close=")" collection="ids" index="index" item="item" open="(" separator=",">  
		  #{item}  
	 </foreach> 
  </update>
  <update id="updateByPrimaryKeySelectiveById" parameterType="com.myfun.repository.search2db.po.Search2SaleIn">
   update sale_in
    <set>
      <if test="inTime != null">
        in_time = #{inTime,jdbcType=TIMESTAMP},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="owner != null">
        owner = #{owner,jdbcType=VARCHAR},
      </if>
      <if test="mobilePhone != null">
        mobile_phone = #{mobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="telePhone != null">
        tele_phone = #{telePhone,jdbcType=VARCHAR},
      </if>
      <if test="buildName != null">
        build_name = #{buildName,jdbcType=VARCHAR},
      </if>
      <if test="region != null">
        region = #{region,jdbcType=VARCHAR},
      </if>
      <if test="sectors != null">
        sectors = #{sectors,jdbcType=VARCHAR},
      </if>
      <if test="round != null">
        round = #{round,jdbcType=VARCHAR},
      </if>
      <if test="section != null">
        section = #{section,jdbcType=VARCHAR},
      </if>
      <if test="room != null">
        room = #{room,jdbcType=INTEGER},
      </if>
      <if test="hall != null">
        hall = #{hall,jdbcType=INTEGER},
      </if>
      <if test="wei != null">
        wei = #{wei,jdbcType=INTEGER},
      </if>
      <if test="yang != null">
        yang = #{yang,jdbcType=INTEGER},
      </if>
      <if test="houseType != null">
        house_type = #{houseType,jdbcType=VARCHAR},
      </if>
      <if test="floor != null">
        floor = #{floor,jdbcType=INTEGER},
      </if>
      <if test="floors != null">
        floors = #{floors,jdbcType=INTEGER},
      </if>
      <if test="fitment != null">
        fitment = #{fitment,jdbcType=VARCHAR},
      </if>
      <if test="direct != null">
        direct = #{direct,jdbcType=VARCHAR},
      </if>
      <if test="houseYear != null">
        house_year = #{houseYear,jdbcType=VARCHAR},
      </if>
      <if test="houseStruct != null">
        house_struct = #{houseStruct,jdbcType=VARCHAR},
      </if>
      <if test="useage != null">
        useage = #{useage,jdbcType=VARCHAR},
      </if>
      <if test="houseRight != null">
        house_right = #{houseRight,jdbcType=VARCHAR},
      </if>
      <if test="houseAccount != null">
        house_account = #{houseAccount,jdbcType=VARCHAR},
      </if>
      <if test="area != null">
        area = #{area,jdbcType=DOUBLE},
      </if>
      <if test="area2 != null">
        area2 = #{area2,jdbcType=DOUBLE},
      </if>
      <if test="totalPrice != null">
        total_price = #{totalPrice,jdbcType=DOUBLE},
      </if>
      <if test="unitPrice != null">
        unit_price = #{unitPrice,jdbcType=INTEGER},
      </if>
      <if test="leaveTime != null">
        leave_time = #{leaveTime,jdbcType=VARCHAR},
      </if>
      <if test="charact != null">
        charact = #{charact,jdbcType=VARCHAR},
      </if>
      <if test="siteId != null">
        site_id = #{siteId,jdbcType=INTEGER},
      </if>
      <if test="primitiveId != null">
        primitive_id = #{primitiveId,jdbcType=VARCHAR},
      </if>
      <if test="siteName != null">
        site_name = #{siteName,jdbcType=VARCHAR},
      </if>
      <if test="telCount != null">
        tel_count = #{telCount,jdbcType=TINYINT},
      </if>
      <if test="pageSours != null">
        page_sours = #{pageSours,jdbcType=VARCHAR},
      </if>
      <if test="telSource != null">
        tel_source = #{telSource,jdbcType=VARCHAR},
      </if>
      <if test="statusFlag != null">
        status_flag = #{statusFlag,jdbcType=TINYINT},
      </if>
      <if test="positionX != null">
        position_x = #{positionX,jdbcType=VARCHAR},
      </if>
      <if test="positionY != null">
        position_y = #{positionY,jdbcType=VARCHAR},
      </if>
      <if test="imgFlag != null">
        img_flag = #{imgFlag,jdbcType=TINYINT},
      </if>
      <if test="smallPic != null">
        small_pic = #{smallPic,jdbcType=VARCHAR},
      </if>
      <if test="roofNum != null">
        roof_num = #{roofNum,jdbcType=VARCHAR},
      </if>
      <if test="refreshFlag != null">
        refresh_flag = #{refreshFlag,jdbcType=BIT},
      </if>
      <if test="extBit != null">
        ext_bit = #{extBit,jdbcType=INTEGER},
      </if>
      <if test="dataSource != null">
        data_source = #{dataSource,jdbcType=INTEGER},
      </if>
      <if test="relateId != null">
        relate_id = #{relateId,jdbcType=INTEGER},
      </if>
      <if test="showTel != null">
        show_tel = #{showTel,jdbcType=INTEGER},
      </if>
      <if test="showOther != null">
        show_other = #{showOther,jdbcType=INTEGER},
      </if>
      <if test="vipFlag != null">
        vip_flag = #{vipFlag,jdbcType=INTEGER},
      </if>
      <if test="vipRepeat != null">
        vip_repeat = #{vipRepeat,jdbcType=INTEGER},
      </if>
      <if test="vipDownTime != null">
        vip_down_time = #{vipDownTime,jdbcType=TIMESTAMP},
      </if>
      <if test="vipRefundTime != null">
        vip_refund_time = #{vipRefundTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pubTime != null">
        pub_time = #{pubTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where  id = #{id,jdbcType=INTEGER}
  </update>
  <select id="getSEQSOSOId" resultType="java.lang.Integer">
  	select next value FOR SEQ_SOSO_RES_ID
  </select>
  
  <select id="getCaseInfo" resultMap="getCaseInfoMap">
  	select CLIENT_ID, PERIOD from ${tableName} where CITY_ID = #{cityId} and ${fieldName} = #{caseId}
  </select>
  
  <update id="updateStausFlagAndVipDownTmw">
  	update ${sosoTableName} set status_flag = #{statusFlag}, vip_down_time = #{nowdate}
  	where id = #{sosoId}
  </update>
  <select id="getRepeatSaleList" resultMap="searchdtoMap">
  	 select 
    	BUILD_NAME, HALL, ROOM, FLOOR, FLOORS, FITMENT, AREA, TOTAL_PRICE, ADD_TIME, HOUSE_TYPE, STATUS
    from sale_in
    where CITY_ID = #{cityId}
    <if test="caseIds !=null and caseIds != ''">
    	and id in
    	<foreach close=")" collection="caseIds" index="index" item="item" open="(" separator=",">  
		  #{item}  
	 </foreach> 
    </if>
  </select>
  <select id="getSaleInListBySolrForPage" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from sale_in
    <where>
      <if test="preSyncTime != null">
        and update_time &gt;= #{preSyncTime,jdbcType=TIMESTAMP}
      </if>
      <if test="serverTime != null">
        and update_time &lt;= #{serverTime,jdbcType=TIMESTAMP}
      </if>
    </where>
    order by update_time desc
  </select>
  
  <update id="downHouse">
  	update ${sosoTableName} set status_flag = 0
  	where id = #{sosoId}
  </update>
  <select id="getColumnInfoByTbName" parameterType="java.lang.String" resultType="com.myfun.repository.support.generator.ColumnVo">
    select column_name field, data_type type from information_schema.columns where table_name =  #{tbName}
  </select>
  <select id="getSaleInByid" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from sale_in
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteSeleInById">
    delete from sale_in
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <update id="updateNotNullById">
    update sale_in
    <set>
      <if test="inTime != null">
        in_time = #{inTime,jdbcType=TIMESTAMP},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="owner != null">
        owner = #{owner,jdbcType=VARCHAR},
      </if>
      <if test="mobilePhone != null">
        mobile_phone = #{mobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="telePhone != null">
        tele_phone = #{telePhone,jdbcType=VARCHAR},
      </if>
      <if test="buildName != null">
        build_name = #{buildName,jdbcType=VARCHAR},
      </if>
      <if test="region != null">
        region = #{region,jdbcType=VARCHAR},
      </if>
      <if test="sectors != null">
        sectors = #{sectors,jdbcType=VARCHAR},
      </if>
      <if test="round != null">
        round = #{round,jdbcType=VARCHAR},
      </if>
      <if test="section != null">
        section = #{section,jdbcType=VARCHAR},
      </if>
      <if test="room != null">
        room = #{room,jdbcType=INTEGER},
      </if>
      <if test="hall != null">
        hall = #{hall,jdbcType=INTEGER},
      </if>
      <if test="wei != null">
        wei = #{wei,jdbcType=INTEGER},
      </if>
      <if test="yang != null">
        yang = #{yang,jdbcType=INTEGER},
      </if>
      <if test="houseType != null">
        house_type = #{houseType,jdbcType=VARCHAR},
      </if>
      <if test="floor != null">
        floor = #{floor,jdbcType=INTEGER},
      </if>
      <if test="floors != null">
        floors = #{floors,jdbcType=INTEGER},
      </if>
      <if test="fitment != null">
        fitment = #{fitment,jdbcType=VARCHAR},
      </if>
      <if test="direct != null">
        direct = #{direct,jdbcType=VARCHAR},
      </if>
      <if test="houseYear != null">
        house_year = #{houseYear,jdbcType=VARCHAR},
      </if>
      <if test="houseStruct != null">
        house_struct = #{houseStruct,jdbcType=VARCHAR},
      </if>
      <if test="useage != null">
        useage = #{useage,jdbcType=VARCHAR},
      </if>
      <if test="houseRight != null">
        house_right = #{houseRight,jdbcType=VARCHAR},
      </if>
      <if test="houseAccount != null">
        house_account = #{houseAccount,jdbcType=VARCHAR},
      </if>
      <if test="area != null">
        area = #{area,jdbcType=DOUBLE},
      </if>
      <if test="area2 != null">
        area2 = #{area2,jdbcType=DOUBLE},
      </if>
      <if test="totalPrice != null">
        total_price = #{totalPrice,jdbcType=DOUBLE},
      </if>
      <if test="unitPrice != null">
        unit_price = #{unitPrice,jdbcType=INTEGER},
      </if>
      <if test="leaveTime != null">
        leave_time = #{leaveTime,jdbcType=VARCHAR},
      </if>
      <if test="charact != null">
        charact = #{charact,jdbcType=VARCHAR},
      </if>
      <if test="siteId != null">
        site_id = #{siteId,jdbcType=INTEGER},
      </if>
      <if test="primitiveId != null">
        primitive_id = #{primitiveId,jdbcType=VARCHAR},
      </if>
      <if test="siteName != null">
        site_name = #{siteName,jdbcType=VARCHAR},
      </if>
      <if test="telCount != null">
        tel_count = #{telCount,jdbcType=TINYINT},
      </if>
      <if test="pageSours != null">
        page_sours = #{pageSours,jdbcType=VARCHAR},
      </if>
      <if test="telSource != null">
        tel_source = #{telSource,jdbcType=VARCHAR},
      </if>
      <if test="statusFlag != null">
        status_flag = #{statusFlag,jdbcType=TINYINT},
      </if>
      <if test="positionX != null">
        position_x = #{positionX,jdbcType=VARCHAR},
      </if>
      <if test="positionY != null">
        position_y = #{positionY,jdbcType=VARCHAR},
      </if>
      <if test="imgFlag != null">
        img_flag = #{imgFlag,jdbcType=TINYINT},
      </if>
      <if test="smallPic != null">
        small_pic = #{smallPic,jdbcType=VARCHAR},
      </if>
      <if test="roofNum != null">
        roof_num = #{roofNum,jdbcType=VARCHAR},
      </if>
      <if test="refreshFlag != null">
        refresh_flag = #{refreshFlag,jdbcType=BIT},
      </if>
      <if test="extBit != null">
        ext_bit = #{extBit,jdbcType=INTEGER},
      </if>
      <if test="dataSource != null">
        data_source = #{dataSource,jdbcType=INTEGER},
      </if>
      <if test="relateId != null">
        relate_id = #{relateId,jdbcType=INTEGER},
      </if>
      <if test="showTel != null">
        show_tel = #{showTel,jdbcType=INTEGER},
      </if>
      <if test="showOther != null">
        show_other = #{showOther,jdbcType=INTEGER},
      </if>
      <if test="vipFlag != null">
        vip_flag = #{vipFlag,jdbcType=INTEGER},
      </if>
      <if test="vipRepeat != null">
        vip_repeat = #{vipRepeat,jdbcType=INTEGER},
      </if>
      <if test="vipDownTime != null">
        vip_down_time = #{vipDownTime,jdbcType=TIMESTAMP},
      </if>
      <if test="vipRefundTime != null">
        vip_refund_time = #{vipRefundTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pubTime != null">
        pub_time = #{pubTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  
	<sql id="GET_LIST_CONDITION">
		<if test="regions != null and regions != ''">
			and (REGION IN
			<foreach close=")" collection="regions" item="column" open="(" separator=",">#{column}</foreach>
				<if test="regionIds != null and regionIds != ''">
					OR REGION_ID IN (${regionIds})
				</if>
			)
		</if>
		<if test="regionIdArr != null and regionIdArr != ''">
			and region_id IN
			<foreach close=")" collection="regionIdArr" item="column" open="(" separator=",">#{column}</foreach>
		</if>
		<if test="sectionArr != null and sectionArr != ''">
			and (SECTION IN
			<foreach close=")" collection="sectionArr" item="column" open="(" separator=",">#{column}</foreach>
				<if test="regionIds != null and regionIds != ''">
					OR SECTION_ID IN (${sectionIds})
				</if>
			)
		</if>
		<if test="useage != null and useage != ''">and USEAGE = #{useage}</if>
		<if test="room1 != null and room1 != ''">and ROOM &gt;= #{room1}</if>
		<if test="room2 != null and room2 != ''">and ROOM &lt;= #{room2}</if>
		<if test="area1 != null and area1 != ''">and AREA &gt;= #{area1}</if>
		<if test="area2 != null and area2 != ''">and AREA &lt;= #{area2}</if>
		<if test="price1 != null and price1 != ''">and TOTAL_PRICE &gt;= #{price1}</if>
		<if test="price2 != null and price2 != ''">and TOTAL_PRICE &lt;= #{price2}</if>
		<if test="time1 != null and time1 != ''">and IN_TIME &gt;= #{time1}</if>
		<if test="time2 != null and time2 != ''">and IN_TIME &lt;= #{time2}</if>
		<if test="keywords != null and keywords != ''">and (TITLE like #{keywords} OR BUILD_NAME like #{keywords})</if>
	</sql>
	
	<select id="getSOSOViewedSaleList" parameterType="com.myfun.repository.support.param.DaoBaseParam" resultMap="Search2SaleInDto">
		SELECT 
		ID, FITMENT, PROVINCE_ID, CITY_ID, SITE_ID, TITLE, REGION, FLOOR, FLOORS, ROOM,HALL, WEI, YANG,CHARACT,STATUS_FLAG,
		AREA, TOTAL_PRICE, UNIT_PRICE, USEAGE,HOUSE_TYPE, BUILD_NAME, IN_TIME, SITE_NAME, PAGE_SOURS, 1 AS READED,
		B.VIEW_TIME, B.CONVERT_TIME,B.COMPLAINT_FLAG,B.COMPLAINT_TIME, B.IS_CONVERT AS CONERTED, IMG_FLAG,
		DATA_SOURCE,RELATE_ID,VIP_FLAG,VIP_REPEAT,SECTORS,SECTION,OWNER,MOBILE_PHONE,BUILD_ID,TELE_PHONE,TEL_SOURCE,REPEAT_ID
		FROM hft_searchdb..SOSO_VIEW B
		LEFT JOIN ${tbName} A ON A.ID = B.SOSO_ID
		<where>
			a.PROVINCE_ID = #{provinceId}
			AND A.CITY_ID = #{cityId}
			<choose>
				<when test="fakeHouseFlag == 1 and intermediaryHouseFlag == 1">AND STATUS_FLAG = 0</when>
				<when test="fakeHouseFlag == 1">AND (STATUS_FLAG = 0 or STATUS_FLAG between 101 and 199)</when>
				<when test="intermediaryHouseFlag == 1">AND (STATUS_FLAG = 0 or STATUS_FLAG between 51 and 100)</when>
				<otherwise>AND STATUS_FLAG &lt; 200</otherwise>
			</choose>
			AND STATUS_FLAG &gt;= 0
			AND B.SOSO_TYPE = 1
			AND B.ARCHIVE_ID = #{archiveId}
			<include refid="GET_LIST_CONDITION" />
		</where>
      union
      SELECT
      ID, FITMENT, PROVINCE_ID, CITY_ID, SITE_ID, TITLE, REGION, FLOOR, FLOORS, ROOM,HALL, WEI, YANG,CHARACT,STATUS_FLAG,
      AREA, TOTAL_PRICE, UNIT_PRICE, USEAGE,HOUSE_TYPE, BUILD_NAME, IN_TIME, SITE_NAME, PAGE_SOURS, 1 AS READED,
      B.VIEW_TIME, B.CONVERT_TIME,B.COMPLAINT_FLAG,B.COMPLAINT_TIME, B.IS_CONVERT AS CONERTED, IMG_FLAG,
      DATA_SOURCE,RELATE_ID,VIP_FLAG,VIP_REPEAT,SECTORS,SECTION,OWNER,MOBILE_PHONE,BUILD_ID,TELE_PHONE,TEL_SOURCE,REPEAT_ID
      FROM hft_searchdb..SOSO_VIEW B
      LEFT JOIN ${tbName} A ON A.REPEAT_ID > 10 AND A.REPEAT_ID = B.SOSO_ID
      <where>
        a.PROVINCE_ID = #{provinceId}
        AND A.CITY_ID = #{cityId}
        <choose>
          <when test="fakeHouseFlag == 1 and intermediaryHouseFlag == 1">AND STATUS_FLAG = 0</when>
          <when test="fakeHouseFlag == 1">AND (STATUS_FLAG = 0 or STATUS_FLAG between 101 and 199)</when>
          <when test="intermediaryHouseFlag == 1">AND (STATUS_FLAG = 0 or STATUS_FLAG between 51 and 100)</when>
          <otherwise>AND STATUS_FLAG &lt; 200</otherwise>
        </choose>
        AND STATUS_FLAG &gt;= 0
        AND B.SOSO_TYPE = 1
        AND B.ARCHIVE_ID = #{archiveId}
        <include refid="GET_LIST_CONDITION" />
      </where>
		order by B.VIEW_TIME DESC
	</select>
	
	<select id="getSoSoSaleList" parameterType="com.myfun.repository.support.param.DaoBaseParam" resultMap="Search2SaleInDto">
		SELECT
		ID,RELATE_ID,VIP_FLAG,IN_TIME,IMG_FLAG,BUILD_NAME,USEAGE,HOUSE_TYPE,FLOOR,FLOORS,ROOM,HALL,WEI,YANG,HOUSE_RIGHT,CHARACT,
		AREA,TOTAL_PRICE,TITLE,SITE_ID,FITMENT,STATUS_FLAG,REPEAT_ID,REGION,SECTION,OWNER,MOBILE_PHONE,BUILD_ID,TELE_PHONE,TEL_SOURCE,PAGE_SOURS
		FROM ${tbName}
		<where>
			PROVINCE_ID = #{provinceId}
			AND CITY_ID = #{cityId}
			<choose>
				<when test="fakeHouseFlag == 1 and intermediaryHouseFlag == 1">AND STATUS_FLAG = 0</when>
				<when test="intermediaryHouseFlag == 1">AND (STATUS_FLAG = 0 or STATUS_FLAG between 101 and 199)</when>
				<when test="fakeHouseFlag == 1">AND (STATUS_FLAG = 0 or STATUS_FLAG between 51 and 100)</when>
				<otherwise>AND STATUS_FLAG &lt; 200</otherwise>
			</choose>
			<include refid="GET_LIST_CONDITION" />
		</where>
		order by IN_TIME DESC
	</select>
	<select id="getSaleInDataInfoById" parameterType="com.myfun.repository.support.param.DaoBaseParam" resultMap="Search2SaleInDataInfoDto">
	  select top 1 a.province_id, a.city_id, a.id, a.in_time, a.title, a.owner, a.mobile_phone, a.tele_phone, a.build_name,
      a.region, a.sectors, a.round, a.section, a.room, a.hall, a.wei, a.yang, a.house_type, a.floor, a.floors,
      a.fitment, a.direct, a.house_year, a.house_struct, a.useage, a.house_right, a.house_account, a.area,
      a.area2, a.total_price, a.unit_price, a.leave_time, a.charact, a.site_id, a.primitive_id, a.site_name,
      a.tel_count, a.page_sours, a.tel_source, a.status_flag, a.position_x, a.position_y, a.img_flag,
      a.small_pic, a.roof_num, a.refresh_flag, a.ext_bit, a.data_source, a.relate_id, a.show_tel, a.show_other,
      a.vip_flag, a.vip_repeat, a.vip_down_time, a.vip_refund_time, a.update_time, a.pub_time, a.PUSHMSG_LOCKFLAG,
      a.LAST_PUSHMSG_TIME, a.build_id, a.section_id, a.region_id, a.MONGO_DELETE, a.img_download, a.COMPLAINT_AGENCY,
      a.COMPLAINT_FAKE, a.COMPLAINT_SOLD, a.COMPLAINT_KEEP, a.REPEAT_ID, a.SITE_FLAG, b.property, b.is_seperator,
      b.office_level, b.shop_usage, b.hall_structure, b.ug_area, b.ug_type, b.garden_area, b.garage_amount, b.house_set,
      c.COMPLAINT_FLAG,c.COMPLAINT_TIME, iif(c.SOSO_ID is null,null,1) AS readed
		from ${tbName} a left join ${tbNameDetail} b on a.city_id = b.city_id and a.id = b.id and a.province_id=b.province_id 
		left join hft_searchdb..SOSO_VIEW c on (a.id = c.SOSO_ID or (a.REPEAT_ID > 10 and a.REPEAT_ID = c.SOSO_ID)) and SOSO_TYPE=0 and ARCHIVE_id=#{archiveId}
		where a.city_id = #{cityId} and a.id=#{sosoId} and a.province_id = #{provinceId}
	</select>
	<update id="addComplaintCount">
		update ${sosoTableName} set 
		<if test="complaintType == 1">
			COMPLAINT_AGENCY=COMPLAINT_AGENCY+1
		</if>
		<if test="complaintType == 2">
			COMPLAINT_FAKE=COMPLAINT_FAKE+1
		</if>
		<if test="complaintType == 3">
			COMPLAINT_SOLD=COMPLAINT_SOLD+1
		</if>
		<if test="complaintType == 4">
			COMPLAINT_KEEP=COMPLAINT_KEEP+1
		</if>
		where id=#{sosoId} and province_id = #{provinceId} and city_id = #{cityId}
	</update>
	<select id="getSaleInRepeatById" resultMap="Search2SaleInDto">
		select top 15 id,area,total_price,pub_time,in_time,build_name from ${tbName}
		where city_id = #{cityId} and province_id = #{provinceId} and repeat_id = #{repeatId}
		<if test="sosoId != null">and id != #{sosoId}</if>
		order by in_time
	</select>
  <select id="countByUrl" resultType="java.lang.Integer">
    select count(1) from sale_in where PROVINCE_ID=#{provinceId} and city_id = #{cityId} and page_sours = #{dataUrl}
  </select>
</mapper>