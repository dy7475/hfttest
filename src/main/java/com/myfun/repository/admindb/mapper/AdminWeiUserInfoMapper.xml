<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myfun.repository.admindb.dao.AdminWeiUserInfoMapper">
  <resultMap id="BaseResultMap" type="com.myfun.repository.admindb.po.AdminWeiUserInfo">
    <!--@mbggenerated-->
    <id column="WEI_USER_ID" jdbcType="INTEGER" property="weiUserId" />
    <result column="USER_MOBILE" jdbcType="VARCHAR" property="userMobile" />
    <result column="USER_NAME" jdbcType="VARCHAR" property="userName" />
    <result column="USER_QQ" jdbcType="VARCHAR" property="userQq" />
    <result column="DEPT_NAME" jdbcType="VARCHAR" property="deptName" />
    <result column="WEIXIN_NICK_NAME" jdbcType="VARCHAR" property="weixinNickName" />
    <result column="WEIXIN_OPEN_ID" jdbcType="VARCHAR" property="weixinOpenId" />
    <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
    <result column="UPDATE_TIME" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="USER_STATUS" jdbcType="INTEGER" property="userStatus" />
    <result column="USER_PHOTO" jdbcType="VARCHAR" property="userPhoto" />
    <result column="CITY_ID" jdbcType="INTEGER" property="cityId" />
    <result column="WEIXIN_NICK_NAME_2" jdbcType="VARCHAR" property="weixinNickName2" />
    <result column="WEIXIN_OPEN_ID_2" jdbcType="VARCHAR" property="weixinOpenId2" />
    <result column="USER_PHOTO_2" jdbcType="VARCHAR" property="userPhoto2" />
    <result column="CRM_COMP_ID" jdbcType="INTEGER" property="crmCompId" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--@mbggenerated-->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--@mbggenerated-->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--@mbggenerated-->
    WEI_USER_ID, USER_MOBILE, USER_NAME, USER_QQ, DEPT_NAME, WEIXIN_NICK_NAME, WEIXIN_OPEN_ID, 
    CREATE_TIME, UPDATE_TIME, USER_STATUS, USER_PHOTO, CITY_ID, WEIXIN_NICK_NAME_2, WEIXIN_OPEN_ID_2, 
    USER_PHOTO_2, CRM_COMP_ID
  </sql>
  <select id="selectByExample" parameterType="com.myfun.repository.admindb.po.AdminWeiUserInfoExample" resultMap="BaseResultMap">
    <!--@mbggenerated-->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from WEI_USER_INFO
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--@mbggenerated-->
    select 
    <include refid="Base_Column_List" />
    from WEI_USER_INFO
    where WEI_USER_ID = #{weiUserId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--@mbggenerated-->
    delete from WEI_USER_INFO
    where WEI_USER_ID = #{weiUserId,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="com.myfun.repository.admindb.po.AdminWeiUserInfoExample">
    <!--@mbggenerated-->
    delete from WEI_USER_INFO
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" keyProperty="weiUserId" parameterType="com.myfun.repository.admindb.po.AdminWeiUserInfo" useGeneratedKeys="true">
    <!--@mbggenerated-->
    insert into WEI_USER_INFO (USER_MOBILE, USER_NAME, USER_QQ, 
      DEPT_NAME, WEIXIN_NICK_NAME, WEIXIN_OPEN_ID, 
      CREATE_TIME, UPDATE_TIME, USER_STATUS, 
      USER_PHOTO, CITY_ID, WEIXIN_NICK_NAME_2, 
      WEIXIN_OPEN_ID_2, USER_PHOTO_2, CRM_COMP_ID
      )
    values (#{userMobile,jdbcType=VARCHAR}, #{userName,jdbcType=VARCHAR}, #{userQq,jdbcType=VARCHAR}, 
      #{deptName,jdbcType=VARCHAR}, #{weixinNickName,jdbcType=VARCHAR}, #{weixinOpenId,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP}, #{userStatus,jdbcType=INTEGER}, 
      #{userPhoto,jdbcType=VARCHAR}, #{cityId,jdbcType=INTEGER}, #{weixinNickName2,jdbcType=VARCHAR}, 
      #{weixinOpenId2,jdbcType=VARCHAR}, #{userPhoto2,jdbcType=VARCHAR}, #{crmCompId,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" keyProperty="weiUserId" parameterType="com.myfun.repository.admindb.po.AdminWeiUserInfo" useGeneratedKeys="true">
    <!--@mbggenerated-->
    insert into WEI_USER_INFO
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="userMobile != null">
        USER_MOBILE,
      </if>
      <if test="userName != null">
        USER_NAME,
      </if>
      <if test="userQq != null">
        USER_QQ,
      </if>
      <if test="deptName != null">
        DEPT_NAME,
      </if>
      <if test="weixinNickName != null">
        WEIXIN_NICK_NAME,
      </if>
      <if test="weixinOpenId != null">
        WEIXIN_OPEN_ID,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="updateTime != null">
        UPDATE_TIME,
      </if>
      <if test="userStatus != null">
        USER_STATUS,
      </if>
      <if test="userPhoto != null">
        USER_PHOTO,
      </if>
      <if test="cityId != null">
        CITY_ID,
      </if>
      <if test="weixinNickName2 != null">
        WEIXIN_NICK_NAME_2,
      </if>
      <if test="weixinOpenId2 != null">
        WEIXIN_OPEN_ID_2,
      </if>
      <if test="userPhoto2 != null">
        USER_PHOTO_2,
      </if>
      <if test="crmCompId != null">
        CRM_COMP_ID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="userMobile != null">
        #{userMobile,jdbcType=VARCHAR},
      </if>
      <if test="userName != null">
        #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userQq != null">
        #{userQq,jdbcType=VARCHAR},
      </if>
      <if test="deptName != null">
        #{deptName,jdbcType=VARCHAR},
      </if>
      <if test="weixinNickName != null">
        #{weixinNickName,jdbcType=VARCHAR},
      </if>
      <if test="weixinOpenId != null">
        #{weixinOpenId,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userStatus != null">
        #{userStatus,jdbcType=INTEGER},
      </if>
      <if test="userPhoto != null">
        #{userPhoto,jdbcType=VARCHAR},
      </if>
      <if test="cityId != null">
        #{cityId,jdbcType=INTEGER},
      </if>
      <if test="weixinNickName2 != null">
        #{weixinNickName2,jdbcType=VARCHAR},
      </if>
      <if test="weixinOpenId2 != null">
        #{weixinOpenId2,jdbcType=VARCHAR},
      </if>
      <if test="userPhoto2 != null">
        #{userPhoto2,jdbcType=VARCHAR},
      </if>
      <if test="crmCompId != null">
        #{crmCompId,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.myfun.repository.admindb.po.AdminWeiUserInfoExample" resultType="java.lang.Integer">
    <!--@mbggenerated-->
    select count(*) from WEI_USER_INFO
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--@mbggenerated-->
    update WEI_USER_INFO
    <set>
      <if test="record.weiUserId != null">
        WEI_USER_ID = #{record.weiUserId,jdbcType=INTEGER},
      </if>
      <if test="record.userMobile != null">
        USER_MOBILE = #{record.userMobile,jdbcType=VARCHAR},
      </if>
      <if test="record.userName != null">
        USER_NAME = #{record.userName,jdbcType=VARCHAR},
      </if>
      <if test="record.userQq != null">
        USER_QQ = #{record.userQq,jdbcType=VARCHAR},
      </if>
      <if test="record.deptName != null">
        DEPT_NAME = #{record.deptName,jdbcType=VARCHAR},
      </if>
      <if test="record.weixinNickName != null">
        WEIXIN_NICK_NAME = #{record.weixinNickName,jdbcType=VARCHAR},
      </if>
      <if test="record.weixinOpenId != null">
        WEIXIN_OPEN_ID = #{record.weixinOpenId,jdbcType=VARCHAR},
      </if>
      <if test="record.createTime != null">
        CREATE_TIME = #{record.createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.updateTime != null">
        UPDATE_TIME = #{record.updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.userStatus != null">
        USER_STATUS = #{record.userStatus,jdbcType=INTEGER},
      </if>
      <if test="record.userPhoto != null">
        USER_PHOTO = #{record.userPhoto,jdbcType=VARCHAR},
      </if>
      <if test="record.cityId != null">
        CITY_ID = #{record.cityId,jdbcType=INTEGER},
      </if>
      <if test="record.weixinNickName2 != null">
        WEIXIN_NICK_NAME_2 = #{record.weixinNickName2,jdbcType=VARCHAR},
      </if>
      <if test="record.weixinOpenId2 != null">
        WEIXIN_OPEN_ID_2 = #{record.weixinOpenId2,jdbcType=VARCHAR},
      </if>
      <if test="record.userPhoto2 != null">
        USER_PHOTO_2 = #{record.userPhoto2,jdbcType=VARCHAR},
      </if>
      <if test="record.crmCompId != null">
        CRM_COMP_ID = #{record.crmCompId,jdbcType=INTEGER},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--@mbggenerated-->
    update WEI_USER_INFO
    set WEI_USER_ID = #{record.weiUserId,jdbcType=INTEGER},
      USER_MOBILE = #{record.userMobile,jdbcType=VARCHAR},
      USER_NAME = #{record.userName,jdbcType=VARCHAR},
      USER_QQ = #{record.userQq,jdbcType=VARCHAR},
      DEPT_NAME = #{record.deptName,jdbcType=VARCHAR},
      WEIXIN_NICK_NAME = #{record.weixinNickName,jdbcType=VARCHAR},
      WEIXIN_OPEN_ID = #{record.weixinOpenId,jdbcType=VARCHAR},
      CREATE_TIME = #{record.createTime,jdbcType=TIMESTAMP},
      UPDATE_TIME = #{record.updateTime,jdbcType=TIMESTAMP},
      USER_STATUS = #{record.userStatus,jdbcType=INTEGER},
      USER_PHOTO = #{record.userPhoto,jdbcType=VARCHAR},
      CITY_ID = #{record.cityId,jdbcType=INTEGER},
      WEIXIN_NICK_NAME_2 = #{record.weixinNickName2,jdbcType=VARCHAR},
      WEIXIN_OPEN_ID_2 = #{record.weixinOpenId2,jdbcType=VARCHAR},
      USER_PHOTO_2 = #{record.userPhoto2,jdbcType=VARCHAR},
      CRM_COMP_ID = #{record.crmCompId,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.myfun.repository.admindb.po.AdminWeiUserInfo">
    <!--@mbggenerated-->
    update WEI_USER_INFO
    <set>
      <if test="userMobile != null">
        USER_MOBILE = #{userMobile,jdbcType=VARCHAR},
      </if>
      <if test="userName != null">
        USER_NAME = #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userQq != null">
        USER_QQ = #{userQq,jdbcType=VARCHAR},
      </if>
      <if test="deptName != null">
        DEPT_NAME = #{deptName,jdbcType=VARCHAR},
      </if>
      <if test="weixinNickName != null">
        WEIXIN_NICK_NAME = #{weixinNickName,jdbcType=VARCHAR},
      </if>
      <if test="weixinOpenId != null">
        WEIXIN_OPEN_ID = #{weixinOpenId,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userStatus != null">
        USER_STATUS = #{userStatus,jdbcType=INTEGER},
      </if>
      <if test="userPhoto != null">
        USER_PHOTO = #{userPhoto,jdbcType=VARCHAR},
      </if>
      <if test="cityId != null">
        CITY_ID = #{cityId,jdbcType=INTEGER},
      </if>
      <if test="weixinNickName2 != null">
        WEIXIN_NICK_NAME_2 = #{weixinNickName2,jdbcType=VARCHAR},
      </if>
      <if test="weixinOpenId2 != null">
        WEIXIN_OPEN_ID_2 = #{weixinOpenId2,jdbcType=VARCHAR},
      </if>
      <if test="userPhoto2 != null">
        USER_PHOTO_2 = #{userPhoto2,jdbcType=VARCHAR},
      </if>
      <if test="crmCompId != null">
        CRM_COMP_ID = #{crmCompId,jdbcType=INTEGER},
      </if>
    </set>
    where WEI_USER_ID = #{weiUserId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.myfun.repository.admindb.po.AdminWeiUserInfo">
    <!--@mbggenerated-->
    update WEI_USER_INFO
    set USER_MOBILE = #{userMobile,jdbcType=VARCHAR},
      USER_NAME = #{userName,jdbcType=VARCHAR},
      USER_QQ = #{userQq,jdbcType=VARCHAR},
      DEPT_NAME = #{deptName,jdbcType=VARCHAR},
      WEIXIN_NICK_NAME = #{weixinNickName,jdbcType=VARCHAR},
      WEIXIN_OPEN_ID = #{weixinOpenId,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      USER_STATUS = #{userStatus,jdbcType=INTEGER},
      USER_PHOTO = #{userPhoto,jdbcType=VARCHAR},
      CITY_ID = #{cityId,jdbcType=INTEGER},
      WEIXIN_NICK_NAME_2 = #{weixinNickName2,jdbcType=VARCHAR},
      WEIXIN_OPEN_ID_2 = #{weixinOpenId2,jdbcType=VARCHAR},
      USER_PHOTO_2 = #{userPhoto2,jdbcType=VARCHAR},
      CRM_COMP_ID = #{crmCompId,jdbcType=INTEGER}
    where WEI_USER_ID = #{weiUserId,jdbcType=INTEGER}
  </update>
  <select id="getList" resultMap="BaseResultMap">
    select b.* from fun_depts a
    left join WEI_USER_INFO b on a.YOU_DOCKING_UID = b.WEI_USER_ID
    where a.comp_no = #{compNo} and a.dept_no=#{deptNo} and b.USER_STATUS = 0
  </select>

	<select id="getUserRoleId" resultType="java.lang.String">
		SELECT WEI_USER_ROLE.ROLE_ID
		FROM WEI_USER_ROLE LEFT JOIN WEI_ROLES ON WEI_USER_ROLE.ROLE_ID = WEI_ROLES.ROLE_ID
		WHERE WEI_USER_ROLE.USER_ID = #{userId}
	</select>
</mapper>