<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myfun.repository.admindb.dao.AdminBulletMapper">
  <resultMap id="BaseResultMap" type="com.myfun.repository.admindb.po.AdminBullet">
    <!--@mbggenerated-->
    <id column="BULLET_ID" jdbcType="INTEGER" property="bulletId" />
    <result column="CITY_ID" jdbcType="INTEGER" property="cityId" />
    <result column="BULLET_BOUND" jdbcType="TINYINT" property="bulletBound" />
    <result column="COMP_ID" jdbcType="INTEGER" property="compId" />
    <result column="DEPT_ID" jdbcType="INTEGER" property="deptId" />
    <result column="BULLET_SUBJECT" jdbcType="VARCHAR" property="bulletSubject" />
    <result column="USER_ID" jdbcType="INTEGER" property="userId" />
    <result column="ARCHIVE_ID" jdbcType="INTEGER" property="archiveId" />
    <result column="BULLET_TIME" jdbcType="VARCHAR" property="bulletTime" />
    <result column="CLICK_COUNT" jdbcType="INTEGER" property="clickCount" />
    <result column="REPLY_COUNT" jdbcType="SMALLINT" property="replyCount" />
    <result column="STICK" jdbcType="BIT" property="stick" />
    <result column="ELITE" jdbcType="BIT" property="elite" />
    <result column="IS_DELETE" jdbcType="BIT" property="isDelete" />
    <result column="SHOW_TEL" jdbcType="BIT" property="showTel" />
    <result column="ISVOTE" jdbcType="BIT" property="isvote" />
    <result column="RECOMMEND" jdbcType="BIT" property="recommend" />
    <result column="EDIT_TIME" jdbcType="VARCHAR" property="editTime" />
    <result column="COMP_NAME" jdbcType="VARCHAR" property="compName" />
    <result column="CONTRACT" jdbcType="VARCHAR" property="contract" />
    <result column="TEL" jdbcType="VARCHAR" property="tel" />
    <result column="PIC" jdbcType="BIT" property="pic" />
    <result column="ORDER_TIME" jdbcType="VARCHAR" property="orderTime" />
    <result column="SCOPE_ID" jdbcType="INTEGER" property="scopeId" />
    <result column="BROADCAST" jdbcType="INTEGER" property="broadcast" />
    <result column="ZAN" jdbcType="INTEGER" property="zan" />
    <result column="IS_LOCK" jdbcType="BIT" property="isLock" />
    <result column="YOU_JIA_FLAG" jdbcType="TINYINT" property="youJiaFlag" />
    <result column="DEAL_ID" jdbcType="INTEGER" property="dealId" />
    <result column="RELEASE_STATUS" jdbcType="TINYINT" property="releaseStatus" />
    <result column="NEWS_BACK_URL" jdbcType="VARCHAR" property="newsBackUrl" />
    <result column="SOURCE" jdbcType="TINYINT" property="source" />
    <result column="THUMB_URL" jdbcType="VARCHAR" property="thumbUrl" />
    <result column="TEMPLETE_ID" jdbcType="INTEGER" property="templeteId" />
    <result column="GOOD_NEWS_CONTENT" jdbcType="VARCHAR" property="goodNewsContent" />
    <result column="REPLY_STATUS" jdbcType="TINYINT" property="replyStatus" />
    <result column="BULLET_TYPE" jdbcType="TINYINT" property="bulletType" />
    <result column="ROLE_VIEW_RANGE" jdbcType="VARCHAR" property="roleViewRange" />
    <result column="PARTNER_ID" jdbcType="INTEGER" property="partnerId" />
    <result column="ORGANIZATION_DEFINITION_ID" jdbcType="INTEGER" property="organizationDefinitionId" />
    <result column="ORGANIZATION_ID" jdbcType="INTEGER" property="organizationId" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.myfun.repository.admindb.po.AdminBullet">
    <!--@mbggenerated-->
    <result column="BULLET_CONTENT" jdbcType="CLOB" property="bulletContent" />
    <result column="CONTENT_BOTTOM" jdbcType="CLOB" property="contentBottom" />
    <result column="ZAN_USER" jdbcType="CLOB" property="zanUser" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--@mbggenerated-->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--@mbggenerated-->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--@mbggenerated-->
    BULLET_ID, CITY_ID, BULLET_BOUND, COMP_ID, DEPT_ID, BULLET_SUBJECT, USER_ID, ARCHIVE_ID, 
    BULLET_TIME, CLICK_COUNT, REPLY_COUNT, STICK, ELITE, IS_DELETE, SHOW_TEL, ISVOTE, 
    RECOMMEND, EDIT_TIME, COMP_NAME, CONTRACT, TEL, PIC, ORDER_TIME, SCOPE_ID, BROADCAST, 
    ZAN, IS_LOCK, YOU_JIA_FLAG, DEAL_ID, RELEASE_STATUS, NEWS_BACK_URL, [SOURCE], THUMB_URL, 
    TEMPLETE_ID, GOOD_NEWS_CONTENT, REPLY_STATUS, BULLET_TYPE, ROLE_VIEW_RANGE, PARTNER_ID, 
    ORGANIZATION_DEFINITION_ID, ORGANIZATION_ID
  </sql>
  <sql id="Blob_Column_List">
    <!--@mbggenerated-->
    BULLET_CONTENT, CONTENT_BOTTOM, ZAN_USER
  </sql>
  <select id="selectByExampleWithBLOBs" parameterType="com.myfun.repository.admindb.po.AdminBulletExample" resultMap="ResultMapWithBLOBs">
    <!--@mbggenerated-->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from BULLET
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByExample" parameterType="com.myfun.repository.admindb.po.AdminBulletExample" resultMap="BaseResultMap">
    <!--@mbggenerated-->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from BULLET
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="ResultMapWithBLOBs">
    <!--@mbggenerated-->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from BULLET
    where BULLET_ID = #{bulletId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--@mbggenerated-->
    delete from BULLET
    where BULLET_ID = #{bulletId,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="com.myfun.repository.admindb.po.AdminBulletExample">
    <!--@mbggenerated-->
    delete from BULLET
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.myfun.repository.admindb.po.AdminBullet">
    <!--@mbggenerated-->
    <selectKey keyProperty="bulletId" order="BEFORE" resultType="java.lang.Integer">
      SELECT next value for SEQ_BULLET_BULLET_ID
    </selectKey>
    insert into BULLET (BULLET_ID, CITY_ID, BULLET_BOUND, 
      COMP_ID, DEPT_ID, BULLET_SUBJECT, 
      USER_ID, ARCHIVE_ID, BULLET_TIME, 
      CLICK_COUNT, REPLY_COUNT, STICK, 
      ELITE, IS_DELETE, SHOW_TEL, ISVOTE, 
      RECOMMEND, EDIT_TIME, COMP_NAME, 
      CONTRACT, TEL, PIC, ORDER_TIME, 
      SCOPE_ID, BROADCAST, ZAN, 
      IS_LOCK, YOU_JIA_FLAG, DEAL_ID, 
      RELEASE_STATUS, NEWS_BACK_URL, [SOURCE], 
      THUMB_URL, TEMPLETE_ID, GOOD_NEWS_CONTENT, 
      REPLY_STATUS, BULLET_TYPE, ROLE_VIEW_RANGE, 
      PARTNER_ID, ORGANIZATION_DEFINITION_ID, ORGANIZATION_ID, 
      BULLET_CONTENT, CONTENT_BOTTOM, ZAN_USER
      )
    values (#{bulletId,jdbcType=INTEGER}, #{cityId,jdbcType=INTEGER}, #{bulletBound,jdbcType=TINYINT}, 
      #{compId,jdbcType=INTEGER}, #{deptId,jdbcType=INTEGER}, #{bulletSubject,jdbcType=VARCHAR}, 
      #{userId,jdbcType=INTEGER}, #{archiveId,jdbcType=INTEGER}, #{bulletTime,jdbcType=VARCHAR}, 
      #{clickCount,jdbcType=INTEGER}, #{replyCount,jdbcType=SMALLINT}, #{stick,jdbcType=BIT}, 
      #{elite,jdbcType=BIT}, #{isDelete,jdbcType=BIT}, #{showTel,jdbcType=BIT}, #{isvote,jdbcType=BIT}, 
      #{recommend,jdbcType=BIT}, #{editTime,jdbcType=VARCHAR}, #{compName,jdbcType=VARCHAR}, 
      #{contract,jdbcType=VARCHAR}, #{tel,jdbcType=VARCHAR}, #{pic,jdbcType=BIT}, #{orderTime,jdbcType=VARCHAR}, 
      #{scopeId,jdbcType=INTEGER}, #{broadcast,jdbcType=INTEGER}, #{zan,jdbcType=INTEGER}, 
      #{isLock,jdbcType=BIT}, #{youJiaFlag,jdbcType=TINYINT}, #{dealId,jdbcType=INTEGER}, 
      #{releaseStatus,jdbcType=TINYINT}, #{newsBackUrl,jdbcType=VARCHAR}, #{source,jdbcType=TINYINT}, 
      #{thumbUrl,jdbcType=VARCHAR}, #{templeteId,jdbcType=INTEGER}, #{goodNewsContent,jdbcType=VARCHAR}, 
      #{replyStatus,jdbcType=TINYINT}, #{bulletType,jdbcType=TINYINT}, #{roleViewRange,jdbcType=VARCHAR}, 
      #{partnerId,jdbcType=INTEGER}, #{organizationDefinitionId,jdbcType=INTEGER}, #{organizationId,jdbcType=INTEGER}, 
      #{bulletContent,jdbcType=CLOB}, #{contentBottom,jdbcType=CLOB}, #{zanUser,jdbcType=CLOB}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.myfun.repository.admindb.po.AdminBullet">
    <!--@mbggenerated-->
    <selectKey keyProperty="bulletId" order="BEFORE" resultType="java.lang.Integer">
      SELECT next value for SEQ_BULLET_BULLET_ID
    </selectKey>
    insert into BULLET
    <trim prefix="(" suffix=")" suffixOverrides=",">
      BULLET_ID,
      <if test="cityId != null">
        CITY_ID,
      </if>
      <if test="bulletBound != null">
        BULLET_BOUND,
      </if>
      <if test="compId != null">
        COMP_ID,
      </if>
      <if test="deptId != null">
        DEPT_ID,
      </if>
      <if test="bulletSubject != null">
        BULLET_SUBJECT,
      </if>
      <if test="userId != null">
        USER_ID,
      </if>
      <if test="archiveId != null">
        ARCHIVE_ID,
      </if>
      <if test="bulletTime != null">
        BULLET_TIME,
      </if>
      <if test="clickCount != null">
        CLICK_COUNT,
      </if>
      <if test="replyCount != null">
        REPLY_COUNT,
      </if>
      <if test="stick != null">
        STICK,
      </if>
      <if test="elite != null">
        ELITE,
      </if>
      <if test="isDelete != null">
        IS_DELETE,
      </if>
      <if test="showTel != null">
        SHOW_TEL,
      </if>
      <if test="isvote != null">
        ISVOTE,
      </if>
      <if test="recommend != null">
        RECOMMEND,
      </if>
      <if test="editTime != null">
        EDIT_TIME,
      </if>
      <if test="compName != null">
        COMP_NAME,
      </if>
      <if test="contract != null">
        CONTRACT,
      </if>
      <if test="tel != null">
        TEL,
      </if>
      <if test="pic != null">
        PIC,
      </if>
      <if test="orderTime != null">
        ORDER_TIME,
      </if>
      <if test="scopeId != null">
        SCOPE_ID,
      </if>
      <if test="broadcast != null">
        BROADCAST,
      </if>
      <if test="zan != null">
        ZAN,
      </if>
      <if test="isLock != null">
        IS_LOCK,
      </if>
      <if test="youJiaFlag != null">
        YOU_JIA_FLAG,
      </if>
      <if test="dealId != null">
        DEAL_ID,
      </if>
      <if test="releaseStatus != null">
        RELEASE_STATUS,
      </if>
      <if test="newsBackUrl != null">
        NEWS_BACK_URL,
      </if>
      <if test="source != null">
        [SOURCE],
      </if>
      <if test="thumbUrl != null">
        THUMB_URL,
      </if>
      <if test="templeteId != null">
        TEMPLETE_ID,
      </if>
      <if test="goodNewsContent != null">
        GOOD_NEWS_CONTENT,
      </if>
      <if test="replyStatus != null">
        REPLY_STATUS,
      </if>
      <if test="bulletType != null">
        BULLET_TYPE,
      </if>
      <if test="roleViewRange != null">
        ROLE_VIEW_RANGE,
      </if>
      <if test="partnerId != null">
        PARTNER_ID,
      </if>
      <if test="organizationDefinitionId != null">
        ORGANIZATION_DEFINITION_ID,
      </if>
      <if test="organizationId != null">
        ORGANIZATION_ID,
      </if>
      <if test="bulletContent != null">
        BULLET_CONTENT,
      </if>
      <if test="contentBottom != null">
        CONTENT_BOTTOM,
      </if>
      <if test="zanUser != null">
        ZAN_USER,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      #{bulletId,jdbcType=INTEGER},
      <if test="cityId != null">
        #{cityId,jdbcType=INTEGER},
      </if>
      <if test="bulletBound != null">
        #{bulletBound,jdbcType=TINYINT},
      </if>
      <if test="compId != null">
        #{compId,jdbcType=INTEGER},
      </if>
      <if test="deptId != null">
        #{deptId,jdbcType=INTEGER},
      </if>
      <if test="bulletSubject != null">
        #{bulletSubject,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=INTEGER},
      </if>
      <if test="archiveId != null">
        #{archiveId,jdbcType=INTEGER},
      </if>
      <if test="bulletTime != null">
        #{bulletTime,jdbcType=VARCHAR},
      </if>
      <if test="clickCount != null">
        #{clickCount,jdbcType=INTEGER},
      </if>
      <if test="replyCount != null">
        #{replyCount,jdbcType=SMALLINT},
      </if>
      <if test="stick != null">
        #{stick,jdbcType=BIT},
      </if>
      <if test="elite != null">
        #{elite,jdbcType=BIT},
      </if>
      <if test="isDelete != null">
        #{isDelete,jdbcType=BIT},
      </if>
      <if test="showTel != null">
        #{showTel,jdbcType=BIT},
      </if>
      <if test="isvote != null">
        #{isvote,jdbcType=BIT},
      </if>
      <if test="recommend != null">
        #{recommend,jdbcType=BIT},
      </if>
      <if test="editTime != null">
        #{editTime,jdbcType=VARCHAR},
      </if>
      <if test="compName != null">
        #{compName,jdbcType=VARCHAR},
      </if>
      <if test="contract != null">
        #{contract,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        #{tel,jdbcType=VARCHAR},
      </if>
      <if test="pic != null">
        #{pic,jdbcType=BIT},
      </if>
      <if test="orderTime != null">
        #{orderTime,jdbcType=VARCHAR},
      </if>
      <if test="scopeId != null">
        #{scopeId,jdbcType=INTEGER},
      </if>
      <if test="broadcast != null">
        #{broadcast,jdbcType=INTEGER},
      </if>
      <if test="zan != null">
        #{zan,jdbcType=INTEGER},
      </if>
      <if test="isLock != null">
        #{isLock,jdbcType=BIT},
      </if>
      <if test="youJiaFlag != null">
        #{youJiaFlag,jdbcType=TINYINT},
      </if>
      <if test="dealId != null">
        #{dealId,jdbcType=INTEGER},
      </if>
      <if test="releaseStatus != null">
        #{releaseStatus,jdbcType=TINYINT},
      </if>
      <if test="newsBackUrl != null">
        #{newsBackUrl,jdbcType=VARCHAR},
      </if>
      <if test="source != null">
        #{source,jdbcType=TINYINT},
      </if>
      <if test="thumbUrl != null">
        #{thumbUrl,jdbcType=VARCHAR},
      </if>
      <if test="templeteId != null">
        #{templeteId,jdbcType=INTEGER},
      </if>
      <if test="goodNewsContent != null">
        #{goodNewsContent,jdbcType=VARCHAR},
      </if>
      <if test="replyStatus != null">
        #{replyStatus,jdbcType=TINYINT},
      </if>
      <if test="bulletType != null">
        #{bulletType,jdbcType=TINYINT},
      </if>
      <if test="roleViewRange != null">
        #{roleViewRange,jdbcType=VARCHAR},
      </if>
      <if test="partnerId != null">
        #{partnerId,jdbcType=INTEGER},
      </if>
      <if test="organizationDefinitionId != null">
        #{organizationDefinitionId,jdbcType=INTEGER},
      </if>
      <if test="organizationId != null">
        #{organizationId,jdbcType=INTEGER},
      </if>
      <if test="bulletContent != null">
        #{bulletContent,jdbcType=CLOB},
      </if>
      <if test="contentBottom != null">
        #{contentBottom,jdbcType=CLOB},
      </if>
      <if test="zanUser != null">
        #{zanUser,jdbcType=CLOB},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.myfun.repository.admindb.po.AdminBulletExample" resultType="java.lang.Integer">
    <!--@mbggenerated-->
    select count(*) from BULLET
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--@mbggenerated-->
    update BULLET
    <set>
      <if test="record.bulletId != null">
        BULLET_ID = #{record.bulletId,jdbcType=INTEGER},
      </if>
      <if test="record.cityId != null">
        CITY_ID = #{record.cityId,jdbcType=INTEGER},
      </if>
      <if test="record.bulletBound != null">
        BULLET_BOUND = #{record.bulletBound,jdbcType=TINYINT},
      </if>
      <if test="record.compId != null">
        COMP_ID = #{record.compId,jdbcType=INTEGER},
      </if>
      <if test="record.deptId != null">
        DEPT_ID = #{record.deptId,jdbcType=INTEGER},
      </if>
      <if test="record.bulletSubject != null">
        BULLET_SUBJECT = #{record.bulletSubject,jdbcType=VARCHAR},
      </if>
      <if test="record.userId != null">
        USER_ID = #{record.userId,jdbcType=INTEGER},
      </if>
      <if test="record.archiveId != null">
        ARCHIVE_ID = #{record.archiveId,jdbcType=INTEGER},
      </if>
      <if test="record.bulletTime != null">
        BULLET_TIME = #{record.bulletTime,jdbcType=VARCHAR},
      </if>
      <if test="record.clickCount != null">
        CLICK_COUNT = #{record.clickCount,jdbcType=INTEGER},
      </if>
      <if test="record.replyCount != null">
        REPLY_COUNT = #{record.replyCount,jdbcType=SMALLINT},
      </if>
      <if test="record.stick != null">
        STICK = #{record.stick,jdbcType=BIT},
      </if>
      <if test="record.elite != null">
        ELITE = #{record.elite,jdbcType=BIT},
      </if>
      <if test="record.isDelete != null">
        IS_DELETE = #{record.isDelete,jdbcType=BIT},
      </if>
      <if test="record.showTel != null">
        SHOW_TEL = #{record.showTel,jdbcType=BIT},
      </if>
      <if test="record.isvote != null">
        ISVOTE = #{record.isvote,jdbcType=BIT},
      </if>
      <if test="record.recommend != null">
        RECOMMEND = #{record.recommend,jdbcType=BIT},
      </if>
      <if test="record.editTime != null">
        EDIT_TIME = #{record.editTime,jdbcType=VARCHAR},
      </if>
      <if test="record.compName != null">
        COMP_NAME = #{record.compName,jdbcType=VARCHAR},
      </if>
      <if test="record.contract != null">
        CONTRACT = #{record.contract,jdbcType=VARCHAR},
      </if>
      <if test="record.tel != null">
        TEL = #{record.tel,jdbcType=VARCHAR},
      </if>
      <if test="record.pic != null">
        PIC = #{record.pic,jdbcType=BIT},
      </if>
      <if test="record.orderTime != null">
        ORDER_TIME = #{record.orderTime,jdbcType=VARCHAR},
      </if>
      <if test="record.scopeId != null">
        SCOPE_ID = #{record.scopeId,jdbcType=INTEGER},
      </if>
      <if test="record.broadcast != null">
        BROADCAST = #{record.broadcast,jdbcType=INTEGER},
      </if>
      <if test="record.zan != null">
        ZAN = #{record.zan,jdbcType=INTEGER},
      </if>
      <if test="record.isLock != null">
        IS_LOCK = #{record.isLock,jdbcType=BIT},
      </if>
      <if test="record.youJiaFlag != null">
        YOU_JIA_FLAG = #{record.youJiaFlag,jdbcType=TINYINT},
      </if>
      <if test="record.dealId != null">
        DEAL_ID = #{record.dealId,jdbcType=INTEGER},
      </if>
      <if test="record.releaseStatus != null">
        RELEASE_STATUS = #{record.releaseStatus,jdbcType=TINYINT},
      </if>
      <if test="record.newsBackUrl != null">
        NEWS_BACK_URL = #{record.newsBackUrl,jdbcType=VARCHAR},
      </if>
      <if test="record.source != null">
        [SOURCE] = #{record.source,jdbcType=TINYINT},
      </if>
      <if test="record.thumbUrl != null">
        THUMB_URL = #{record.thumbUrl,jdbcType=VARCHAR},
      </if>
      <if test="record.templeteId != null">
        TEMPLETE_ID = #{record.templeteId,jdbcType=INTEGER},
      </if>
      <if test="record.goodNewsContent != null">
        GOOD_NEWS_CONTENT = #{record.goodNewsContent,jdbcType=VARCHAR},
      </if>
      <if test="record.replyStatus != null">
        REPLY_STATUS = #{record.replyStatus,jdbcType=TINYINT},
      </if>
      <if test="record.bulletType != null">
        BULLET_TYPE = #{record.bulletType,jdbcType=TINYINT},
      </if>
      <if test="record.roleViewRange != null">
        ROLE_VIEW_RANGE = #{record.roleViewRange,jdbcType=VARCHAR},
      </if>
      <if test="record.partnerId != null">
        PARTNER_ID = #{record.partnerId,jdbcType=INTEGER},
      </if>
      <if test="record.organizationDefinitionId != null">
        ORGANIZATION_DEFINITION_ID = #{record.organizationDefinitionId,jdbcType=INTEGER},
      </if>
      <if test="record.organizationId != null">
        ORGANIZATION_ID = #{record.organizationId,jdbcType=INTEGER},
      </if>
      <if test="record.bulletContent != null">
        BULLET_CONTENT = #{record.bulletContent,jdbcType=CLOB},
      </if>
      <if test="record.contentBottom != null">
        CONTENT_BOTTOM = #{record.contentBottom,jdbcType=CLOB},
      </if>
      <if test="record.zanUser != null">
        ZAN_USER = #{record.zanUser,jdbcType=CLOB},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExampleWithBLOBs" parameterType="map">
    <!--@mbggenerated-->
    update BULLET
    set BULLET_ID = #{record.bulletId,jdbcType=INTEGER},
      CITY_ID = #{record.cityId,jdbcType=INTEGER},
      BULLET_BOUND = #{record.bulletBound,jdbcType=TINYINT},
      COMP_ID = #{record.compId,jdbcType=INTEGER},
      DEPT_ID = #{record.deptId,jdbcType=INTEGER},
      BULLET_SUBJECT = #{record.bulletSubject,jdbcType=VARCHAR},
      USER_ID = #{record.userId,jdbcType=INTEGER},
      ARCHIVE_ID = #{record.archiveId,jdbcType=INTEGER},
      BULLET_TIME = #{record.bulletTime,jdbcType=VARCHAR},
      CLICK_COUNT = #{record.clickCount,jdbcType=INTEGER},
      REPLY_COUNT = #{record.replyCount,jdbcType=SMALLINT},
      STICK = #{record.stick,jdbcType=BIT},
      ELITE = #{record.elite,jdbcType=BIT},
      IS_DELETE = #{record.isDelete,jdbcType=BIT},
      SHOW_TEL = #{record.showTel,jdbcType=BIT},
      ISVOTE = #{record.isvote,jdbcType=BIT},
      RECOMMEND = #{record.recommend,jdbcType=BIT},
      EDIT_TIME = #{record.editTime,jdbcType=VARCHAR},
      COMP_NAME = #{record.compName,jdbcType=VARCHAR},
      CONTRACT = #{record.contract,jdbcType=VARCHAR},
      TEL = #{record.tel,jdbcType=VARCHAR},
      PIC = #{record.pic,jdbcType=BIT},
      ORDER_TIME = #{record.orderTime,jdbcType=VARCHAR},
      SCOPE_ID = #{record.scopeId,jdbcType=INTEGER},
      BROADCAST = #{record.broadcast,jdbcType=INTEGER},
      ZAN = #{record.zan,jdbcType=INTEGER},
      IS_LOCK = #{record.isLock,jdbcType=BIT},
      YOU_JIA_FLAG = #{record.youJiaFlag,jdbcType=TINYINT},
      DEAL_ID = #{record.dealId,jdbcType=INTEGER},
      RELEASE_STATUS = #{record.releaseStatus,jdbcType=TINYINT},
      NEWS_BACK_URL = #{record.newsBackUrl,jdbcType=VARCHAR},
      [SOURCE] = #{record.source,jdbcType=TINYINT},
      THUMB_URL = #{record.thumbUrl,jdbcType=VARCHAR},
      TEMPLETE_ID = #{record.templeteId,jdbcType=INTEGER},
      GOOD_NEWS_CONTENT = #{record.goodNewsContent,jdbcType=VARCHAR},
      REPLY_STATUS = #{record.replyStatus,jdbcType=TINYINT},
      BULLET_TYPE = #{record.bulletType,jdbcType=TINYINT},
      ROLE_VIEW_RANGE = #{record.roleViewRange,jdbcType=VARCHAR},
      PARTNER_ID = #{record.partnerId,jdbcType=INTEGER},
      ORGANIZATION_DEFINITION_ID = #{record.organizationDefinitionId,jdbcType=INTEGER},
      ORGANIZATION_ID = #{record.organizationId,jdbcType=INTEGER},
      BULLET_CONTENT = #{record.bulletContent,jdbcType=CLOB},
      CONTENT_BOTTOM = #{record.contentBottom,jdbcType=CLOB},
      ZAN_USER = #{record.zanUser,jdbcType=CLOB}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--@mbggenerated-->
    update BULLET
    set BULLET_ID = #{record.bulletId,jdbcType=INTEGER},
      CITY_ID = #{record.cityId,jdbcType=INTEGER},
      BULLET_BOUND = #{record.bulletBound,jdbcType=TINYINT},
      COMP_ID = #{record.compId,jdbcType=INTEGER},
      DEPT_ID = #{record.deptId,jdbcType=INTEGER},
      BULLET_SUBJECT = #{record.bulletSubject,jdbcType=VARCHAR},
      USER_ID = #{record.userId,jdbcType=INTEGER},
      ARCHIVE_ID = #{record.archiveId,jdbcType=INTEGER},
      BULLET_TIME = #{record.bulletTime,jdbcType=VARCHAR},
      CLICK_COUNT = #{record.clickCount,jdbcType=INTEGER},
      REPLY_COUNT = #{record.replyCount,jdbcType=SMALLINT},
      STICK = #{record.stick,jdbcType=BIT},
      ELITE = #{record.elite,jdbcType=BIT},
      IS_DELETE = #{record.isDelete,jdbcType=BIT},
      SHOW_TEL = #{record.showTel,jdbcType=BIT},
      ISVOTE = #{record.isvote,jdbcType=BIT},
      RECOMMEND = #{record.recommend,jdbcType=BIT},
      EDIT_TIME = #{record.editTime,jdbcType=VARCHAR},
      COMP_NAME = #{record.compName,jdbcType=VARCHAR},
      CONTRACT = #{record.contract,jdbcType=VARCHAR},
      TEL = #{record.tel,jdbcType=VARCHAR},
      PIC = #{record.pic,jdbcType=BIT},
      ORDER_TIME = #{record.orderTime,jdbcType=VARCHAR},
      SCOPE_ID = #{record.scopeId,jdbcType=INTEGER},
      BROADCAST = #{record.broadcast,jdbcType=INTEGER},
      ZAN = #{record.zan,jdbcType=INTEGER},
      IS_LOCK = #{record.isLock,jdbcType=BIT},
      YOU_JIA_FLAG = #{record.youJiaFlag,jdbcType=TINYINT},
      DEAL_ID = #{record.dealId,jdbcType=INTEGER},
      RELEASE_STATUS = #{record.releaseStatus,jdbcType=TINYINT},
      NEWS_BACK_URL = #{record.newsBackUrl,jdbcType=VARCHAR},
      [SOURCE] = #{record.source,jdbcType=TINYINT},
      THUMB_URL = #{record.thumbUrl,jdbcType=VARCHAR},
      TEMPLETE_ID = #{record.templeteId,jdbcType=INTEGER},
      GOOD_NEWS_CONTENT = #{record.goodNewsContent,jdbcType=VARCHAR},
      REPLY_STATUS = #{record.replyStatus,jdbcType=TINYINT},
      BULLET_TYPE = #{record.bulletType,jdbcType=TINYINT},
      ROLE_VIEW_RANGE = #{record.roleViewRange,jdbcType=VARCHAR},
      PARTNER_ID = #{record.partnerId,jdbcType=INTEGER},
      ORGANIZATION_DEFINITION_ID = #{record.organizationDefinitionId,jdbcType=INTEGER},
      ORGANIZATION_ID = #{record.organizationId,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.myfun.repository.admindb.po.AdminBullet">
    <!--@mbggenerated-->
    update BULLET
    <set>
      <if test="cityId != null">
        CITY_ID = #{cityId,jdbcType=INTEGER},
      </if>
      <if test="bulletBound != null">
        BULLET_BOUND = #{bulletBound,jdbcType=TINYINT},
      </if>
      <if test="compId != null">
        COMP_ID = #{compId,jdbcType=INTEGER},
      </if>
      <if test="deptId != null">
        DEPT_ID = #{deptId,jdbcType=INTEGER},
      </if>
      <if test="bulletSubject != null">
        BULLET_SUBJECT = #{bulletSubject,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        USER_ID = #{userId,jdbcType=INTEGER},
      </if>
      <if test="archiveId != null">
        ARCHIVE_ID = #{archiveId,jdbcType=INTEGER},
      </if>
      <if test="bulletTime != null">
        BULLET_TIME = #{bulletTime,jdbcType=VARCHAR},
      </if>
      <if test="clickCount != null">
        CLICK_COUNT = #{clickCount,jdbcType=INTEGER},
      </if>
      <if test="replyCount != null">
        REPLY_COUNT = #{replyCount,jdbcType=SMALLINT},
      </if>
      <if test="stick != null">
        STICK = #{stick,jdbcType=BIT},
      </if>
      <if test="elite != null">
        ELITE = #{elite,jdbcType=BIT},
      </if>
      <if test="isDelete != null">
        IS_DELETE = #{isDelete,jdbcType=BIT},
      </if>
      <if test="showTel != null">
        SHOW_TEL = #{showTel,jdbcType=BIT},
      </if>
      <if test="isvote != null">
        ISVOTE = #{isvote,jdbcType=BIT},
      </if>
      <if test="recommend != null">
        RECOMMEND = #{recommend,jdbcType=BIT},
      </if>
      <if test="editTime != null">
        EDIT_TIME = #{editTime,jdbcType=VARCHAR},
      </if>
      <if test="compName != null">
        COMP_NAME = #{compName,jdbcType=VARCHAR},
      </if>
      <if test="contract != null">
        CONTRACT = #{contract,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        TEL = #{tel,jdbcType=VARCHAR},
      </if>
      <if test="pic != null">
        PIC = #{pic,jdbcType=BIT},
      </if>
      <if test="orderTime != null">
        ORDER_TIME = #{orderTime,jdbcType=VARCHAR},
      </if>
      <if test="scopeId != null">
        SCOPE_ID = #{scopeId,jdbcType=INTEGER},
      </if>
      <if test="broadcast != null">
        BROADCAST = #{broadcast,jdbcType=INTEGER},
      </if>
      <if test="zan != null">
        ZAN = #{zan,jdbcType=INTEGER},
      </if>
      <if test="isLock != null">
        IS_LOCK = #{isLock,jdbcType=BIT},
      </if>
      <if test="youJiaFlag != null">
        YOU_JIA_FLAG = #{youJiaFlag,jdbcType=TINYINT},
      </if>
      <if test="dealId != null">
        DEAL_ID = #{dealId,jdbcType=INTEGER},
      </if>
      <if test="releaseStatus != null">
        RELEASE_STATUS = #{releaseStatus,jdbcType=TINYINT},
      </if>
      <if test="newsBackUrl != null">
        NEWS_BACK_URL = #{newsBackUrl,jdbcType=VARCHAR},
      </if>
      <if test="source != null">
        [SOURCE] = #{source,jdbcType=TINYINT},
      </if>
      <if test="thumbUrl != null">
        THUMB_URL = #{thumbUrl,jdbcType=VARCHAR},
      </if>
      <if test="templeteId != null">
        TEMPLETE_ID = #{templeteId,jdbcType=INTEGER},
      </if>
      <if test="goodNewsContent != null">
        GOOD_NEWS_CONTENT = #{goodNewsContent,jdbcType=VARCHAR},
      </if>
      <if test="replyStatus != null">
        REPLY_STATUS = #{replyStatus,jdbcType=TINYINT},
      </if>
      <if test="bulletType != null">
        BULLET_TYPE = #{bulletType,jdbcType=TINYINT},
      </if>
      <if test="roleViewRange != null">
        ROLE_VIEW_RANGE = #{roleViewRange,jdbcType=VARCHAR},
      </if>
      <if test="partnerId != null">
        PARTNER_ID = #{partnerId,jdbcType=INTEGER},
      </if>
      <if test="organizationDefinitionId != null">
        ORGANIZATION_DEFINITION_ID = #{organizationDefinitionId,jdbcType=INTEGER},
      </if>
      <if test="organizationId != null">
        ORGANIZATION_ID = #{organizationId,jdbcType=INTEGER},
      </if>
      <if test="bulletContent != null">
        BULLET_CONTENT = #{bulletContent,jdbcType=CLOB},
      </if>
      <if test="contentBottom != null">
        CONTENT_BOTTOM = #{contentBottom,jdbcType=CLOB},
      </if>
      <if test="zanUser != null">
        ZAN_USER = #{zanUser,jdbcType=CLOB},
      </if>
    </set>
    where BULLET_ID = #{bulletId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.myfun.repository.admindb.po.AdminBullet">
    <!--@mbggenerated-->
    update BULLET
    set CITY_ID = #{cityId,jdbcType=INTEGER},
      BULLET_BOUND = #{bulletBound,jdbcType=TINYINT},
      COMP_ID = #{compId,jdbcType=INTEGER},
      DEPT_ID = #{deptId,jdbcType=INTEGER},
      BULLET_SUBJECT = #{bulletSubject,jdbcType=VARCHAR},
      USER_ID = #{userId,jdbcType=INTEGER},
      ARCHIVE_ID = #{archiveId,jdbcType=INTEGER},
      BULLET_TIME = #{bulletTime,jdbcType=VARCHAR},
      CLICK_COUNT = #{clickCount,jdbcType=INTEGER},
      REPLY_COUNT = #{replyCount,jdbcType=SMALLINT},
      STICK = #{stick,jdbcType=BIT},
      ELITE = #{elite,jdbcType=BIT},
      IS_DELETE = #{isDelete,jdbcType=BIT},
      SHOW_TEL = #{showTel,jdbcType=BIT},
      ISVOTE = #{isvote,jdbcType=BIT},
      RECOMMEND = #{recommend,jdbcType=BIT},
      EDIT_TIME = #{editTime,jdbcType=VARCHAR},
      COMP_NAME = #{compName,jdbcType=VARCHAR},
      CONTRACT = #{contract,jdbcType=VARCHAR},
      TEL = #{tel,jdbcType=VARCHAR},
      PIC = #{pic,jdbcType=BIT},
      ORDER_TIME = #{orderTime,jdbcType=VARCHAR},
      SCOPE_ID = #{scopeId,jdbcType=INTEGER},
      BROADCAST = #{broadcast,jdbcType=INTEGER},
      ZAN = #{zan,jdbcType=INTEGER},
      IS_LOCK = #{isLock,jdbcType=BIT},
      YOU_JIA_FLAG = #{youJiaFlag,jdbcType=TINYINT},
      DEAL_ID = #{dealId,jdbcType=INTEGER},
      RELEASE_STATUS = #{releaseStatus,jdbcType=TINYINT},
      NEWS_BACK_URL = #{newsBackUrl,jdbcType=VARCHAR},
      [SOURCE] = #{source,jdbcType=TINYINT},
      THUMB_URL = #{thumbUrl,jdbcType=VARCHAR},
      TEMPLETE_ID = #{templeteId,jdbcType=INTEGER},
      GOOD_NEWS_CONTENT = #{goodNewsContent,jdbcType=VARCHAR},
      REPLY_STATUS = #{replyStatus,jdbcType=TINYINT},
      BULLET_TYPE = #{bulletType,jdbcType=TINYINT},
      ROLE_VIEW_RANGE = #{roleViewRange,jdbcType=VARCHAR},
      PARTNER_ID = #{partnerId,jdbcType=INTEGER},
      ORGANIZATION_DEFINITION_ID = #{organizationDefinitionId,jdbcType=INTEGER},
      ORGANIZATION_ID = #{organizationId,jdbcType=INTEGER},
      BULLET_CONTENT = #{bulletContent,jdbcType=CLOB},
      CONTENT_BOTTOM = #{contentBottom,jdbcType=CLOB},
      ZAN_USER = #{zanUser,jdbcType=CLOB}
    where BULLET_ID = #{bulletId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.myfun.repository.admindb.po.AdminBullet">
    <!--@mbggenerated-->
    update BULLET
    set CITY_ID = #{cityId,jdbcType=INTEGER},
      BULLET_BOUND = #{bulletBound,jdbcType=TINYINT},
      COMP_ID = #{compId,jdbcType=INTEGER},
      DEPT_ID = #{deptId,jdbcType=INTEGER},
      BULLET_SUBJECT = #{bulletSubject,jdbcType=VARCHAR},
      USER_ID = #{userId,jdbcType=INTEGER},
      ARCHIVE_ID = #{archiveId,jdbcType=INTEGER},
      BULLET_TIME = #{bulletTime,jdbcType=VARCHAR},
      CLICK_COUNT = #{clickCount,jdbcType=INTEGER},
      REPLY_COUNT = #{replyCount,jdbcType=SMALLINT},
      STICK = #{stick,jdbcType=BIT},
      ELITE = #{elite,jdbcType=BIT},
      IS_DELETE = #{isDelete,jdbcType=BIT},
      SHOW_TEL = #{showTel,jdbcType=BIT},
      ISVOTE = #{isvote,jdbcType=BIT},
      RECOMMEND = #{recommend,jdbcType=BIT},
      EDIT_TIME = #{editTime,jdbcType=VARCHAR},
      COMP_NAME = #{compName,jdbcType=VARCHAR},
      CONTRACT = #{contract,jdbcType=VARCHAR},
      TEL = #{tel,jdbcType=VARCHAR},
      PIC = #{pic,jdbcType=BIT},
      ORDER_TIME = #{orderTime,jdbcType=VARCHAR},
      SCOPE_ID = #{scopeId,jdbcType=INTEGER},
      BROADCAST = #{broadcast,jdbcType=INTEGER},
      ZAN = #{zan,jdbcType=INTEGER},
      IS_LOCK = #{isLock,jdbcType=BIT},
      YOU_JIA_FLAG = #{youJiaFlag,jdbcType=TINYINT},
      DEAL_ID = #{dealId,jdbcType=INTEGER},
      RELEASE_STATUS = #{releaseStatus,jdbcType=TINYINT},
      NEWS_BACK_URL = #{newsBackUrl,jdbcType=VARCHAR},
      [SOURCE] = #{source,jdbcType=TINYINT},
      THUMB_URL = #{thumbUrl,jdbcType=VARCHAR},
      TEMPLETE_ID = #{templeteId,jdbcType=INTEGER},
      GOOD_NEWS_CONTENT = #{goodNewsContent,jdbcType=VARCHAR},
      REPLY_STATUS = #{replyStatus,jdbcType=TINYINT},
      BULLET_TYPE = #{bulletType,jdbcType=TINYINT},
      ROLE_VIEW_RANGE = #{roleViewRange,jdbcType=VARCHAR},
      PARTNER_ID = #{partnerId,jdbcType=INTEGER},
      ORGANIZATION_DEFINITION_ID = #{organizationDefinitionId,jdbcType=INTEGER},
      ORGANIZATION_ID = #{organizationId,jdbcType=INTEGER}
    where BULLET_ID = #{bulletId,jdbcType=INTEGER}
  </update>
  
  <resultMap extends="ResultMapWithBLOBs" id="extResultMap" type="com.myfun.repository.admindb.dto.AdminBulletDto">
    <result column="userName" jdbcType="VARCHAR" property="userName" />
    <result column="deptName" jdbcType="VARCHAR" property="deptName" />
    <result column="nickName" jdbcType="VARCHAR" property="nickName" />
    <result column="bbsPhoto" jdbcType="VARCHAR" property="bbsPhoto" />
    <result column="userPhotoMin" jdbcType="VARCHAR" property="userPhotoMin" />
    <result column="userMobile" jdbcType="VARCHAR" property="userMobile" />
    <result column="userRight" jdbcType="VARCHAR" property="userRight" />
    <result column="superEnd" jdbcType="VARCHAR" property="superEnd" />
    <result column="superUser" jdbcType="VARCHAR" property="superUser" />
  </resultMap>
  
  <resultMap extends="ResultMapWithBLOBs" id="extResult4Erp" type="com.myfun.repository.admindb.dto.AdminBulletDto">
    <result column="NICK_NAME" jdbcType="VARCHAR" property="nickName" />
    <result column="USER_NAME" jdbcType="VARCHAR" property="userName" />
  </resultMap>
  
  <select id="getCrmBulletList" parameterType="com.myfun.repository.admindb.param.AdminBulletParam" resultMap="extResultMap">
  		SELECT BULLET.RECOMMEND,BULLET.ELITE,BULLET.STICK,BULLET.REPLY_COUNT,BULLET.CLICK_COUNT,BULLET.CITY_ID, BULLET.BULLET_SUBJECT,BULLET.ISVOTE,BULLET.PIC,BULLET.BULLET_ID,BULLET.BULLET_BOUND,FUN_ARCHIVE.USER_NAME as userName 
  		from BULLET 
  		LEFT JOIN FUN_ARCHIVE on BULLET.ARCHIVE_ID = FUN_ARCHIVE.ARCHIVE_ID
  		<where>
  			<if test="null != keyWord and ''!= keyWord">
  				<choose>
  					<when test="searchModel == 1">
  						and (BULLET.BULLET_CONTENT like '%'+#{keyWord}+'%' or BULLET_SUBJECT like '%'+#{keyWord}+'%')
  					</when>
  					<when test="searchModel == 2">
                           and BULLET_ID  in (select BULLET_ID from BULLET_REPLY where BULLET_REPLY.CONTENTS like '%'+#{keyWord}+'%')
  					</when>
  				</choose>
  			</if>
  			<if test="null != bulletBound">
  				and BULLET.BULLET_BOUND = #{bulletBound} and IS_DELETE = 0
  			</if>
  			<if test="null != cityId">
  				and BULLET.CITY_ID = #{cityId} 
  			</if>
  			<if test="null != adminCompId">
  				and COMP_ID = #{adminCompId}
  			</if>
  			<if test="null != adminDeptId">
  				and DEPT_ID = #{adminDeptId}
  			</if>
  		</where>	
		<choose>
			<when test="bulletBound ==3 || bulletBound ==4 || bulletBound ==5 ">
				order by STICK DESC,RECOMMEND DESC,ELITE DESC,ORDER_TIME DESC
			</when>
			<otherwise>order by STICK DESC,RECOMMEND DESC,ELITE DESC,BULLET.EDIT_TIME DESC</otherwise>
		</choose>
  </select>

	<select id="getBulletByBulletId" parameterType="java.lang.Integer" resultMap="extResultMap">
		SELECT
		<include refid="Base_Column_List" />,
		<include refid="Blob_Column_List" />
		FROM BULLET WHERE BULLET_ID = #{bulletId}
	</select>

  <update id="updateClearReply" parameterType="java.lang.Integer">
  	 UPDATE BULLET SET REPLY_COUNT = REPLY_COUNT + 1 where BULLET_ID = #{bulletId}
  </update>
  
   <update id="updateReplyCount" parameterType="java.lang.Integer">
  	update BULLET set REPLY_COUNT = (select COUNT(1) from BULLET_REPLY where BULLET_ID=#{bulletId}) where BULLET_ID=#{bulletId}
  </update>
  
  <insert id="insertAdminBullet" parameterType="com.myfun.repository.admindb.param.AdminBulletParam">
	<selectKey keyProperty="bulletId" order="BEFORE" resultType="java.lang.Integer">
      SELECT next value for SEQ_BULLET_BULLET_ID
    </selectKey>
    insert into BULLET
    <trim prefix="(" suffix=")" suffixOverrides=",">
      BULLET_ID,
      <if test="cityId != null">
        CITY_ID,
      </if>
      <if test="bulletBound != null">
        BULLET_BOUND,
      </if>
      <if test="compId != null">
        COMP_ID,
      </if>
      <if test="deptId != null">
        DEPT_ID,
      </if>
      <if test="bulletSubject != null">
        BULLET_SUBJECT,
      </if>
      <if test="userId != null">
        USER_ID,
      </if>
      <if test="archiveId != null">
        ARCHIVE_ID,
      </if>
      <if test="bulletTime != null">
        BULLET_TIME,
      </if>
      <if test="clickCount != null">
        CLICK_COUNT,
      </if>
      <if test="replyCount != null">
        REPLY_COUNT,
      </if>
      <if test="stick != null">
        STICK,
      </if>
      <if test="elite != null">
        ELITE,
      </if>
      <if test="isDelete != null">
        IS_DELETE,
      </if>
      <if test="showTel != null">
        SHOW_TEL,
      </if>
      <if test="isvote != null">
        ISVOTE,
      </if>
      <if test="recommend != null">
        RECOMMEND,
      </if>
      <if test="editTime != null">
        EDIT_TIME,
      </if>
      <if test="compName != null">
        COMP_NAME,
      </if>
      <if test="contract != null">
        CONTRACT,
      </if>
      <if test="tel != null">
        TEL,
      </if>
      <if test="pic != null">
        PIC,
      </if>
      <if test="orderTime != null">
        ORDER_TIME,
      </if>
      <if test="scopeId != null">
        SCOPE_ID,
      </if>
      <if test="broadcast != null">
        BROADCAST,
      </if>
      <if test="bulletContent != null">
        BULLET_CONTENT,
      </if>
      <if test="null != youjiaflag">
      	YOU_JIA_FLAG,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      #{bulletId,jdbcType=INTEGER},
      <if test="cityId != null">
        #{cityId,jdbcType=INTEGER},
      </if>
      <if test="bulletBound != null">
        #{bulletBound,jdbcType=TINYINT},
      </if>
      <if test="compId != null">
        #{compId,jdbcType=INTEGER},
      </if>
      <if test="deptId != null">
        #{deptId,jdbcType=INTEGER},
      </if>
      <if test="bulletSubject != null">
        #{bulletSubject,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=INTEGER},
      </if>
      <if test="archiveId != null">
        #{archiveId,jdbcType=INTEGER},
      </if>
      <if test="bulletTime != null">
        #{bulletTime,jdbcType=VARCHAR},
      </if>
      <if test="clickCount != null">
        #{clickCount,jdbcType=INTEGER},
      </if>
      <if test="replyCount != null">
        #{replyCount,jdbcType=SMALLINT},
      </if>
      <if test="stick != null">
        #{stick,jdbcType=BIT},
      </if>
      <if test="elite != null">
        #{elite,jdbcType=BIT},
      </if>
      <if test="isDelete != null">
        #{isDelete,jdbcType=BIT},
      </if>
      <if test="showTel != null">
        #{showTel,jdbcType=BIT},
      </if>
      <if test="isvote != null">
        #{isvote,jdbcType=BIT},
      </if>
      <if test="recommend != null">
        #{recommend,jdbcType=BIT},
      </if>
      <if test="editTime != null">
        #{editTime,jdbcType=VARCHAR},
      </if>
      <if test="compName != null">
        #{compName,jdbcType=VARCHAR},
      </if>
      <if test="contract != null">
        #{contract,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        #{tel,jdbcType=VARCHAR},
      </if>
      <if test="pic != null">
        #{pic,jdbcType=BIT},
      </if>
      <if test="orderTime != null">
        #{orderTime,jdbcType=VARCHAR},
      </if>
      <if test="scopeId != null">
        #{scopeId,jdbcType=INTEGER},
      </if>
      <if test="broadcast != null">
        #{broadcast,jdbcType=INTEGER},
      </if>
      <if test="bulletContent != null">
        #{bulletContent,jdbcType=CLOB},
      </if>
      <if test="youjiaflag != null">
        #{youjiaflag,jdbcType=TINYINT},
      </if>
    </trim>
  </insert>
	
  <select id="getBulletList" resultMap="extResult4Erp">
    select a.bullet_id,a.dept_id,a.CITY_ID,a.BULLET_BOUND,a.BULLET_SUBJECT,a.USER_ID,a.RECOMMEND,a.ELITE,a.ORDER_TIME,
    a.ARCHIVE_ID,a.BULLET_TIME,a.CLICK_COUNT,a.REPLY_COUNT,a.ZAN,a.BULLET_TYPE,a.STICK,1 as selfViewStatus,a.PARTNER_ID
    from BULLET a
    WHERE a.COMP_ID = #{compId} AND a.IS_DELETE = 0 AND a.CITY_ID = #{cityId} 
    <if test="null != keyWord and '' != keyWord">
      AND a.BULLET_SUBJECT LIKE #{keyWord}
    </if>
    <if test="null != bulletType and '' != bulletType">
      AND a.BULLET_TYPE = #{bulletType}
    </if>
    AND (a.BULLET_BOUND = 1 OR (a.BULLET_BOUND = 0 AND a.DEPT_ID = #{deptId}) OR (a.BULLET_BOUND = 8 AND a.RELEASE_STATUS = 1)
	    <if test="null != openPartner and 1 == openPartner and partnerId!=null and partnerId&gt;0">
	     or (a.BULLET_BOUND = 10
	      AND a.PARTNER_ID = #{partnerId})
	    </if>
    )
    <if test="youJiaDeptFlag == 1">
      OR ( a.BULLET_BOUND=9 AND a.IS_DELETE = 0 and a.BULLET_ID in( select BULLET_ID from BULLET_YOU_USERS where ERP_USER_ID=#{userId} and USER_DEPT_NO=#{erpUserDeptNo}) )
    </if>
	 ORDER BY a.STICK DESC,a.ORDER_TIME DESC
  </select>
  <select id="getBulletListNewOrg" resultMap="extResult4Erp">
    SELECT a.BULLET_ID,a.DEPT_ID,a.CITY_ID,a.BULLET_BOUND,a.BULLET_SUBJECT,a.USER_ID,a.RECOMMEND,a.ELITE,a.ORDER_TIME,
    a.ARCHIVE_ID,a.BULLET_TIME,a.CLICK_COUNT,a.REPLY_COUNT,a.ZAN,a.BULLET_TYPE,a.STICK,1 as selfViewStatus,a.PARTNER_ID
    FROM BULLET a
    WHERE a.COMP_ID = #{compId} AND a.IS_DELETE = 0 AND a.CITY_ID = #{cityId} 
    <if test="null != keyWord and '' != keyWord">
      AND a.BULLET_SUBJECT LIKE #{keyWord}
    </if>
    <if test="null != bulletType and '' != bulletType">
      AND a.BULLET_TYPE = #{bulletType}
    </if>
    AND (a.ORGANIZATION_DEFINITION_ID = 0 
	    <if test="null != organizationPath and organizationPath != ''">
		  OR (a.ORGANIZATION_DEFINITION_ID = 1 AND a.ORGANIZATION_ID IS NOT NULL AND #{organizationPath} LIKE CONCAT('%',ORGANIZATION_ID,'%'))
	    </if>
	    <if test="null != openPartner and 1 == openPartner and partnerId != null and partnerId&gt;0">
	      OR (a.ORGANIZATION_DEFINITION_ID = -1 AND a.PARTNER_ID = #{partnerId})
	    </if>
    )
    <!-- <if test="youJiaDeptFlag == 1">
      OR ( a.BULLET_BOUND=9 AND a.IS_DELETE = 0 and a.BULLET_ID in( select BULLET_ID from BULLET_YOU_USERS where ERP_USER_ID=#{userId} and USER_DEPT_NO=#{erpUserDeptNo}) )
    </if> -->
	 ORDER BY a.STICK DESC,a.ORDER_TIME DESC
  </select>

  <select id="getBulletListCount" resultType="java.lang.Integer">
    select count(a.bullet_id)
    from BULLET a
    WHERE a.COMP_ID = #{compId} AND a.IS_DELETE = 0 AND a.CITY_ID = #{cityId} 
    <if test="null != openPartner and 1 == openPartner">
      AND a.PARTNER_ID = #{partnerId} 
    </if>
    <if test="null != keyWord and '' != keyWord">
      AND a.BULLET_SUBJECT LIKE #{keyWord}
    </if>
    <if test="null != bulletType and '' != bulletType">
      AND a.BULLET_TYPE = #{bulletType}
    </if>
    AND (a.BULLET_BOUND = 1 OR (a.BULLET_BOUND = 0 AND a.DEPT_ID = #{deptId}) OR (a.BULLET_BOUND = 8 AND a.RELEASE_STATUS = 1) 
	    <if test="null != openPartner and 1 == openPartner and partnerId!=null and partnerId&gt;0">
	     or (a.BULLET_BOUND = 10 AND a.PARTNER_ID = #{partnerId})
	    </if>
    )
    <if test="youJiaDeptFlag == 1">
      OR ( a.BULLET_BOUND=9 AND a.IS_DELETE = 0 and a.BULLET_ID in( select BULLET_ID from BULLET_YOU_USERS where ERP_USER_ID=#{userId} and USER_DEPT_NO=#{erpUserDeptNo}) )
    </if>
  </select>
  <select id="getBulletListCountNewOrg" resultType="java.lang.Integer">
    SELECT COUNT(a.BULLET_ID)
    FROM BULLET a
    WHERE a.COMP_ID = #{compId} AND a.IS_DELETE = 0 AND a.CITY_ID = #{cityId} 
    <if test="null != openPartner and 1 == openPartner">
      AND a.PARTNER_ID = #{partnerId} 
    </if>
    <if test="null != keyWord and '' != keyWord">
      AND a.BULLET_SUBJECT LIKE #{keyWord}
    </if>
    <if test="null != bulletType and '' != bulletType">
      AND a.BULLET_TYPE = #{bulletType}
    </if>
    AND (a.ORGANIZATION_DEFINITION_ID = 0 
    	<if test="null != organizationPath and organizationPath != ''">
	      OR (a.ORGANIZATION_DEFINITION_ID = 1 AND a.ORGANIZATION_ID IS NOT NULL AND #{organizationPath} LIKE CONCAT('%',ORGANIZATION_ID,'%'))
    	</if>
	    <if test="null != openPartner and 1 == openPartner and partnerId != null and partnerId&gt;0">
	      OR (a.ORGANIZATION_DEFINITION_ID = -1 AND a.PARTNER_ID = #{partnerId})
	    </if>
    )
    <!-- <if test="youJiaDeptFlag == 1">
      OR ( a.BULLET_BOUND=9 AND a.IS_DELETE = 0 AND a.BULLET_ID IN ( SELECT BULLET_ID from BULLET_YOU_USERS where ERP_USER_ID=#{userId} and USER_DEPT_NO=#{erpUserDeptNo}) )
    </if> -->
  </select>
	<update id="addClick">
		UPDATE BULLET SET CLICK_COUNT = CLICK_COUNT + 1
		WHERE BULLET_ID =#{bulletId};
	</update>

	<select id="selectByBulletId" resultMap="ResultMapWithBLOBs">
		SELECT
		<include refid="Base_Column_List" />,
		<include refid="Blob_Column_List" />
		FROM BULLET
		WHERE BULLET_ID = #{param.bulletId}
		and BULLET_BOUND = 8
	</select>

	<update id="updateBulletByPrimaryKeys">
		update BULLET
		set RELEASE_STATUS = #{pMap.releaseStatus},
		ORDER_TIME = #{pMap.createTime}
		where BULLET_ID in
		<foreach close=")" collection="bulletIdList" index="index" item="bulletIds" open="(" separator=",">
			#{bulletIds}
		</foreach>
	</update>

</mapper>