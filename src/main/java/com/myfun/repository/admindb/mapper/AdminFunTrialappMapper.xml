<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.myfun.repository.admindb.dao.AdminFunTrialappMapper" >
  <resultMap id="BaseResultMap" type="com.myfun.repository.admindb.po.AdminFunTrialapp" >
    <!--@mbggenerated-->
    <id column="ID" property="id" jdbcType="NUMERIC" />
    <result column="PROVINCE_ID" property="provinceId" jdbcType="INTEGER" />
    <result column="CITY_ID" property="cityId" jdbcType="INTEGER" />
    <result column="CITY_NAME" property="cityName" jdbcType="VARCHAR" />
    <result column="USER_PHONE" property="userPhone" jdbcType="VARCHAR" />
    <result column="COMP_NAME" property="compName" jdbcType="VARCHAR" />
    <result column="USER_NAME" property="userName" jdbcType="VARCHAR" />
    <result column="USER_MOBILE" property="userMobile" jdbcType="VARCHAR" />
    <result column="USER_SEX" property="userSex" jdbcType="INTEGER" />
    <result column="SOFT_TYPE" property="softType" jdbcType="INTEGER" />
    <result column="ICCODE" property="iccode" jdbcType="VARCHAR" />
    <result column="EMAIL" property="email" jdbcType="VARCHAR" />
    <result column="COMPCNAME" property="compcname" jdbcType="VARCHAR" />
    <result column="REG_ID" property="regId" jdbcType="INTEGER" />
    <result column="ADRESS" property="adress" jdbcType="VARCHAR" />
    <result column="DEPT_NAME" property="deptName" jdbcType="VARCHAR" />
    <result column="REGTIME" property="regtime" jdbcType="TIMESTAMP" />
    <result column="STATUS" property="status" jdbcType="INTEGER" />
    <result column="MEMO" property="memo" jdbcType="VARCHAR" />
    <result column="MACADDR" property="macaddr" jdbcType="VARCHAR" />
    <result column="PC_NAME" property="pcName" jdbcType="VARCHAR" />
    <result column="USER_NO" property="userNo" jdbcType="VARCHAR" />
    <result column="USER_PWD" property="userPwd" jdbcType="VARCHAR" />
    <result column="USER_ID_REG" property="userIdReg" jdbcType="INTEGER" />
    <result column="START_TIME" property="startTime" jdbcType="TIMESTAMP" />
    <result column="END_TIME" property="endTime" jdbcType="TIMESTAMP" />
    <result column="COMP_ID" property="compId" jdbcType="INTEGER" />
    <result column="CRM_COMP_ID" property="crmCompId" jdbcType="INTEGER" />
    <result column="TRAL_SOURCE" property="tralSource" jdbcType="INTEGER" />
    <result column="TRACK_TIME" property="trackTime" jdbcType="TIMESTAMP" />
    <result column="CHARGE_USER_ID" property="chargeUserId" jdbcType="INTEGER" />
    <result column="LEVEL" property="level" jdbcType="VARCHAR" />
    <result column="TRAL_METHOD" property="tralMethod" jdbcType="VARCHAR" />
    <result column="REGUSER" property="reguser" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--@mbggenerated-->
    ID, PROVINCE_ID, CITY_ID, CITY_NAME, USER_PHONE, COMP_NAME, USER_NAME, USER_MOBILE, 
    USER_SEX, SOFT_TYPE, ICCODE, EMAIL, COMPCNAME, REG_ID, ADRESS, DEPT_NAME, REGTIME, 
    STATUS, MEMO, MACADDR, PC_NAME, USER_NO, USER_PWD, USER_ID_REG, START_TIME, END_TIME, 
    COMP_ID, CRM_COMP_ID, TRAL_SOURCE, TRACK_TIME, CHARGE_USER_ID, LEVEL, TRAL_METHOD, 
    REGUSER
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--@mbggenerated-->
    select 
    <include refid="Base_Column_List" />
    from FUN_TRIALAPP
    where ID = #{id,jdbcType=NUMERIC}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--@mbggenerated-->
    delete from FUN_TRIALAPP
    where ID = #{id,jdbcType=NUMERIC}
  </delete>
  <insert id="insert" parameterType="com.myfun.repository.admindb.po.AdminFunTrialapp" >
    <!--@mbggenerated-->
    <selectKey resultType="java.lang.Long" keyProperty="id" order="AFTER" >
      SELECT SCOPE_IDENTITY()
    </selectKey>
    insert into FUN_TRIALAPP (PROVINCE_ID, CITY_ID, CITY_NAME, 
      USER_PHONE, COMP_NAME, USER_NAME, 
      USER_MOBILE, USER_SEX, SOFT_TYPE, 
      ICCODE, EMAIL, COMPCNAME, 
      REG_ID, ADRESS, DEPT_NAME, 
      REGTIME, STATUS, MEMO, 
      MACADDR, PC_NAME, USER_NO, 
      USER_PWD, USER_ID_REG, START_TIME, 
      END_TIME, COMP_ID, CRM_COMP_ID, 
      TRAL_SOURCE, TRACK_TIME, CHARGE_USER_ID, 
      LEVEL, TRAL_METHOD, REGUSER
      )
    values (#{provinceId,jdbcType=INTEGER}, #{cityId,jdbcType=INTEGER}, #{cityName,jdbcType=VARCHAR}, 
      #{userPhone,jdbcType=VARCHAR}, #{compName,jdbcType=VARCHAR}, #{userName,jdbcType=VARCHAR}, 
      #{userMobile,jdbcType=VARCHAR}, #{userSex,jdbcType=INTEGER}, #{softType,jdbcType=INTEGER}, 
      #{iccode,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, #{compcname,jdbcType=VARCHAR}, 
      #{regId,jdbcType=INTEGER}, #{adress,jdbcType=VARCHAR}, #{deptName,jdbcType=VARCHAR}, 
      #{regtime,jdbcType=TIMESTAMP}, #{status,jdbcType=INTEGER}, #{memo,jdbcType=VARCHAR}, 
      #{macaddr,jdbcType=VARCHAR}, #{pcName,jdbcType=VARCHAR}, #{userNo,jdbcType=VARCHAR}, 
      #{userPwd,jdbcType=VARCHAR}, #{userIdReg,jdbcType=INTEGER}, #{startTime,jdbcType=TIMESTAMP}, 
      #{endTime,jdbcType=TIMESTAMP}, #{compId,jdbcType=INTEGER}, #{crmCompId,jdbcType=INTEGER}, 
      #{tralSource,jdbcType=INTEGER}, #{trackTime,jdbcType=TIMESTAMP}, #{chargeUserId,jdbcType=INTEGER}, 
      #{level,jdbcType=VARCHAR}, #{tralMethod,jdbcType=VARCHAR}, #{reguser,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.myfun.repository.admindb.po.AdminFunTrialapp" >
    <!--@mbggenerated-->
    <selectKey resultType="java.lang.Long" keyProperty="id" order="BEFORE" >
      SELECT SCOPE_IDENTITY() as id
    </selectKey>
    insert into FUN_TRIALAPP
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null">
      	ID,
      </if>
      <if test="provinceId != null" >
        PROVINCE_ID,
      </if>
      <if test="cityId != null" >
        CITY_ID,
      </if>
      <if test="cityName != null" >
        CITY_NAME,
      </if>
      <if test="userPhone != null" >
        USER_PHONE,
      </if>
      <if test="compName != null" >
        COMP_NAME,
      </if>
      <if test="userName != null" >
        USER_NAME,
      </if>
      <if test="userMobile != null" >
        USER_MOBILE,
      </if>
      <if test="userSex != null" >
        USER_SEX,
      </if>
      <if test="softType != null" >
        SOFT_TYPE,
      </if>
      <if test="iccode != null" >
        ICCODE,
      </if>
      <if test="email != null" >
        EMAIL,
      </if>
      <if test="compcname != null" >
        COMPCNAME,
      </if>
      <if test="regId != null" >
        REG_ID,
      </if>
      <if test="adress != null" >
        ADRESS,
      </if>
      <if test="deptName != null" >
        DEPT_NAME,
      </if>
      <if test="regtime != null" >
        REGTIME,
      </if>
      <if test="status != null" >
        STATUS,
      </if>
      <if test="memo != null" >
        MEMO,
      </if>
      <if test="macaddr != null" >
        MACADDR,
      </if>
      <if test="pcName != null" >
        PC_NAME,
      </if>
      <if test="userNo != null" >
        USER_NO,
      </if>
      <if test="userPwd != null" >
        USER_PWD,
      </if>
      <if test="userIdReg != null" >
        USER_ID_REG,
      </if>
      <if test="startTime != null" >
        START_TIME,
      </if>
      <if test="endTime != null" >
        END_TIME,
      </if>
      <if test="compId != null" >
        COMP_ID,
      </if>
      <if test="crmCompId != null" >
        CRM_COMP_ID,
      </if>
      <if test="tralSource != null" >
        TRAL_SOURCE,
      </if>
      <if test="trackTime != null" >
        TRACK_TIME,
      </if>
      <if test="chargeUserId != null" >
        CHARGE_USER_ID,
      </if>
      <if test="level != null" >
        LEVEL,
      </if>
      <if test="tralMethod != null" >
        TRAL_METHOD,
      </if>
      <if test="reguser != null" >
        REGUSER,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
     <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="provinceId != null" >
        #{provinceId,jdbcType=INTEGER},
      </if>
      <if test="cityId != null" >
        #{cityId,jdbcType=INTEGER},
      </if>
      <if test="cityName != null" >
        #{cityName,jdbcType=VARCHAR},
      </if>
      <if test="userPhone != null" >
        #{userPhone,jdbcType=VARCHAR},
      </if>
      <if test="compName != null" >
        #{compName,jdbcType=VARCHAR},
      </if>
      <if test="userName != null" >
        #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userMobile != null" >
        #{userMobile,jdbcType=VARCHAR},
      </if>
      <if test="userSex != null" >
        #{userSex,jdbcType=INTEGER},
      </if>
      <if test="softType != null" >
        #{softType,jdbcType=INTEGER},
      </if>
      <if test="iccode != null" >
        #{iccode,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="compcname != null" >
        #{compcname,jdbcType=VARCHAR},
      </if>
      <if test="regId != null" >
        #{regId,jdbcType=INTEGER},
      </if>
      <if test="adress != null" >
        #{adress,jdbcType=VARCHAR},
      </if>
      <if test="deptName != null" >
        #{deptName,jdbcType=VARCHAR},
      </if>
      <if test="regtime != null" >
        #{regtime,jdbcType=TIMESTAMP},
      </if>
      <if test="status != null" >
        #{status,jdbcType=INTEGER},
      </if>
      <if test="memo != null" >
        #{memo,jdbcType=VARCHAR},
      </if>
      <if test="macaddr != null" >
        #{macaddr,jdbcType=VARCHAR},
      </if>
      <if test="pcName != null" >
        #{pcName,jdbcType=VARCHAR},
      </if>
      <if test="userNo != null" >
        #{userNo,jdbcType=VARCHAR},
      </if>
      <if test="userPwd != null" >
        #{userPwd,jdbcType=VARCHAR},
      </if>
      <if test="userIdReg != null" >
        #{userIdReg,jdbcType=INTEGER},
      </if>
      <if test="startTime != null" >
        #{startTime,jdbcType=TIMESTAMP},
      </if>
      <if test="endTime != null" >
        #{endTime,jdbcType=TIMESTAMP},
      </if>
      <if test="compId != null" >
        #{compId,jdbcType=INTEGER},
      </if>
      <if test="crmCompId != null" >
        #{crmCompId,jdbcType=INTEGER},
      </if>
      <if test="tralSource != null" >
        #{tralSource,jdbcType=INTEGER},
      </if>
      <if test="trackTime != null" >
        #{trackTime,jdbcType=TIMESTAMP},
      </if>
      <if test="chargeUserId != null" >
        #{chargeUserId,jdbcType=INTEGER},
      </if>
      <if test="level != null" >
        #{level,jdbcType=VARCHAR},
      </if>
      <if test="tralMethod != null" >
        #{tralMethod,jdbcType=VARCHAR},
      </if>
      <if test="reguser != null" >
        #{reguser,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.myfun.repository.admindb.po.AdminFunTrialapp" >
    <!--@mbggenerated-->
    update FUN_TRIALAPP
    <set >
      <if test="provinceId != null" >
        PROVINCE_ID = #{provinceId,jdbcType=INTEGER},
      </if>
      <if test="cityId != null" >
        CITY_ID = #{cityId,jdbcType=INTEGER},
      </if>
      <if test="cityName != null" >
        CITY_NAME = #{cityName,jdbcType=VARCHAR},
      </if>
      <if test="userPhone != null" >
        USER_PHONE = #{userPhone,jdbcType=VARCHAR},
      </if>
      <if test="compName != null" >
        COMP_NAME = #{compName,jdbcType=VARCHAR},
      </if>
      <if test="userName != null" >
        USER_NAME = #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userMobile != null" >
        USER_MOBILE = #{userMobile,jdbcType=VARCHAR},
      </if>
      <if test="userSex != null" >
        USER_SEX = #{userSex,jdbcType=INTEGER},
      </if>
      <if test="softType != null" >
        SOFT_TYPE = #{softType,jdbcType=INTEGER},
      </if>
      <if test="iccode != null" >
        ICCODE = #{iccode,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        EMAIL = #{email,jdbcType=VARCHAR},
      </if>
      <if test="compcname != null" >
        COMPCNAME = #{compcname,jdbcType=VARCHAR},
      </if>
      <if test="regId != null" >
        REG_ID = #{regId,jdbcType=INTEGER},
      </if>
      <if test="adress != null" >
        ADRESS = #{adress,jdbcType=VARCHAR},
      </if>
      <if test="deptName != null" >
        DEPT_NAME = #{deptName,jdbcType=VARCHAR},
      </if>
      <if test="regtime != null" >
        REGTIME = #{regtime,jdbcType=TIMESTAMP},
      </if>
      <if test="status != null" >
        STATUS = #{status,jdbcType=INTEGER},
      </if>
      <if test="memo != null" >
        MEMO = #{memo,jdbcType=VARCHAR},
      </if>
      <if test="macaddr != null" >
        MACADDR = #{macaddr,jdbcType=VARCHAR},
      </if>
      <if test="pcName != null" >
        PC_NAME = #{pcName,jdbcType=VARCHAR},
      </if>
      <if test="userNo != null" >
        USER_NO = #{userNo,jdbcType=VARCHAR},
      </if>
      <if test="userPwd != null" >
        USER_PWD = #{userPwd,jdbcType=VARCHAR},
      </if>
      <if test="userIdReg != null" >
        USER_ID_REG = #{userIdReg,jdbcType=INTEGER},
      </if>
      <if test="startTime != null" >
        START_TIME = #{startTime,jdbcType=TIMESTAMP},
      </if>
      <if test="endTime != null" >
        END_TIME = #{endTime,jdbcType=TIMESTAMP},
      </if>
      <if test="compId != null" >
        COMP_ID = #{compId,jdbcType=INTEGER},
      </if>
      <if test="crmCompId != null" >
        CRM_COMP_ID = #{crmCompId,jdbcType=INTEGER},
      </if>
      <if test="tralSource != null" >
        TRAL_SOURCE = #{tralSource,jdbcType=INTEGER},
      </if>
      <if test="trackTime != null" >
        TRACK_TIME = #{trackTime,jdbcType=TIMESTAMP},
      </if>
      <if test="chargeUserId != null" >
        CHARGE_USER_ID = #{chargeUserId,jdbcType=INTEGER},
      </if>
      <if test="level != null" >
        LEVEL = #{level,jdbcType=VARCHAR},
      </if>
      <if test="tralMethod != null" >
        TRAL_METHOD = #{tralMethod,jdbcType=VARCHAR},
      </if>
      <if test="reguser != null" >
        REGUSER = #{reguser,jdbcType=INTEGER},
      </if>
    </set>
    where ID = #{id,jdbcType=NUMERIC}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.myfun.repository.admindb.po.AdminFunTrialapp" >
    <!--@mbggenerated-->
    update FUN_TRIALAPP
    set PROVINCE_ID = #{provinceId,jdbcType=INTEGER},
      CITY_ID = #{cityId,jdbcType=INTEGER},
      CITY_NAME = #{cityName,jdbcType=VARCHAR},
      USER_PHONE = #{userPhone,jdbcType=VARCHAR},
      COMP_NAME = #{compName,jdbcType=VARCHAR},
      USER_NAME = #{userName,jdbcType=VARCHAR},
      USER_MOBILE = #{userMobile,jdbcType=VARCHAR},
      USER_SEX = #{userSex,jdbcType=INTEGER},
      SOFT_TYPE = #{softType,jdbcType=INTEGER},
      ICCODE = #{iccode,jdbcType=VARCHAR},
      EMAIL = #{email,jdbcType=VARCHAR},
      COMPCNAME = #{compcname,jdbcType=VARCHAR},
      REG_ID = #{regId,jdbcType=INTEGER},
      ADRESS = #{adress,jdbcType=VARCHAR},
      DEPT_NAME = #{deptName,jdbcType=VARCHAR},
      REGTIME = #{regtime,jdbcType=TIMESTAMP},
      STATUS = #{status,jdbcType=INTEGER},
      MEMO = #{memo,jdbcType=VARCHAR},
      MACADDR = #{macaddr,jdbcType=VARCHAR},
      PC_NAME = #{pcName,jdbcType=VARCHAR},
      USER_NO = #{userNo,jdbcType=VARCHAR},
      USER_PWD = #{userPwd,jdbcType=VARCHAR},
      USER_ID_REG = #{userIdReg,jdbcType=INTEGER},
      START_TIME = #{startTime,jdbcType=TIMESTAMP},
      END_TIME = #{endTime,jdbcType=TIMESTAMP},
      COMP_ID = #{compId,jdbcType=INTEGER},
      CRM_COMP_ID = #{crmCompId,jdbcType=INTEGER},
      TRAL_SOURCE = #{tralSource,jdbcType=INTEGER},
      TRACK_TIME = #{trackTime,jdbcType=TIMESTAMP},
      CHARGE_USER_ID = #{chargeUserId,jdbcType=INTEGER},
      LEVEL = #{level,jdbcType=VARCHAR},
      TRAL_METHOD = #{tralMethod,jdbcType=VARCHAR},
      REGUSER = #{reguser,jdbcType=INTEGER}
    where ID = #{id,jdbcType=NUMERIC}
  </update>
      <!-- business -->
  <select id="selectByAdminFunTrialapp" resultMap="BaseResultMap" parameterType="com.myfun.repository.admindb.param.FunTrialappParam" >
    select 
    <include refid="Base_Column_List" />
    from FUN_TRIALAPP
    where (SOFT_TYPE != 0 or SOFT_TYPE is null)
		<if test="cityId != null" >
			and CITY_ID = #{cityId,jdbcType=INTEGER}
		</if>
		<if test="isCust != null" >
			<if test="isCust == 0" >
				and (COMP_ID = 0 or COMP_ID is null)
			</if>
			<if test="isCust == 1" >
				and (COMP_ID > 0)
			</if>
			<if test="isCust == -1" >
				and (COMP_ID = -1)
			</if>
		</if>
		<if test="status != null" >
			and STATUS = #{status,jdbcType=INTEGER}
		</if>
		<if test="crmCompId != null" >
			and CRM_COMP_ID = #{crmCompId,jdbcType=INTEGER}
		</if>
		<if test="reguser != null" >
			and REGUSER = #{reguser,jdbcType=INTEGER}
		</if>
		<if test="regtime1 != null" >
			and REGTIME &gt;= #{regtime1}
		</if>
		<if test="regtime2 != null" >
			and REGTIME &lt;= #{regtime2}
		</if>
		<if test="tralSource != null" >
			and TRAL_SOURCE = #{tralSource,jdbcType=INTEGER}
		</if>
		<if test="tralMethod != null and tralMethod != ''" >
			and TRAL_METHOD = #{tralMethod,jdbcType=VARCHAR}
		</if>
		<if test="level != null and level != ''" >
			and LEVEL = #{level,jdbcType=VARCHAR}
		</if>
		<if test="keyWords != null and keyWords != ''" >
			and (USER_NAME like '%${keyWords}%' or COMP_NAME like '%${keyWords}%')
		</if>
    order by REGTIME desc
  </select>
  
  <select id="getRecords" resultMap="BaseResultMap" >
     select 
    <include refid="Base_Column_List" />
    from FUN_TRIALAPP
    where 1 = 1 and SOFT_TYPE = 0
    <if test="provinceId != null" >
		and PROVINCE_ID = #{provinceId,jdbcType=INTEGER}
	</if>
	 <if test="cityId != null" >
		and CITY_ID = #{cityId,jdbcType=INTEGER}
	</if>
	 <if test="userMobile != null and userMobile != ''" >
		and USER_MOBILE = #{userMobile,jdbcType=VARCHAR}
	</if>
	 <if test="chargeUserId != null and chargeUserId == 0 " >
		and CHARGE_USER_ID is null
	</if>
	 <if test="chargeUserId != null and chargeUserId != 0"  >
		and CHARGE_USER_ID = #{chargeUserId}
	</if>
	<if test="status != null" >
		and STATUS = #{status,jdbcType=INTEGER}
	</if>
	<if test="beginTime != null and beginTime != ''" >
		and REGTIME <![CDATA[ >=  ]]> #{beginTime,jdbcType=TIMESTAMP}
	</if>
	<if test="endTimes != null and endTimes != ''" >
		and REGTIME <![CDATA[ <=  ]]> #{endTimes,jdbcType=TIMESTAMP}
	</if>
    order by TRACK_TIME DESC,REGTIME DESC
  </select>
  
    <select id="selectIdByAdminFunTrialapp" resultMap="BaseResultMap" >
    select 
    <include refid="Base_Column_List" />
    from FUN_TRIALAPP
    where 1 = 1
		<if test="userName != null and userName != ''" >
			and USER_NAME = #{userName}
		</if>
		<if test="userMobile != null and userMobile != ''" >
			and USER_MOBILE = #{userMobile}
		</if>
		<if test="trackTime != null and trackTime != ''" >
			and TRACK_TIME = #{trackTime}
		</if>
  </select>
</mapper>