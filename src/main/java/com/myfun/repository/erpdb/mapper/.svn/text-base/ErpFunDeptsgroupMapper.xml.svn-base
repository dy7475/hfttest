<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myfun.repository.erpdb.dao.ErpFunDeptsgroupMapper">
  <resultMap id="BaseResultMap" type="com.myfun.repository.erpdb.po.ErpFunDeptsgroup">
    <!--@mbggenerated-->
    <id column="GR_ID" jdbcType="INTEGER" property="grId" />
    <result column="GR_NAME" jdbcType="VARCHAR" property="grName" />
    <result column="COMP_ID" jdbcType="INTEGER" property="compId" />
    <result column="DEPT_ID" jdbcType="INTEGER" property="deptId" />
    <result column="SEQ_NO" jdbcType="INTEGER" property="seqNo" />
    <result column="ADMIN_USER" jdbcType="INTEGER" property="adminUser" />
    <result column="GR_CONTACT" jdbcType="VARCHAR" property="grContact" />
    <result column="GR_TELE" jdbcType="VARCHAR" property="grTele" />
    <result column="GR_DESC" jdbcType="VARCHAR" property="grDesc" />
    <result column="UPDATE_UID" jdbcType="INTEGER" property="updateUid" />
    <result column="UPDATE_TIME" jdbcType="VARCHAR" property="updateTime" />
    <result column="IS_DEL" jdbcType="TINYINT" property="isDel" />
    <result column="PARTNER_ID" jdbcType="INTEGER" property="partnerId" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--@mbggenerated-->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--@mbggenerated-->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--@mbggenerated-->
    GR_ID, GR_NAME, COMP_ID, DEPT_ID, SEQ_NO, ADMIN_USER, GR_CONTACT, GR_TELE, GR_DESC, 
    UPDATE_UID, UPDATE_TIME, IS_DEL, PARTNER_ID
  </sql>
  <select id="selectByExample" parameterType="com.myfun.repository.erpdb.po.ErpFunDeptsgroupExample" resultMap="BaseResultMap">
    <!--@mbggenerated-->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from FUN_DEPTSGROUP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--@mbggenerated-->
    select 
    <include refid="Base_Column_List" />
    from FUN_DEPTSGROUP
    where GR_ID = #{grId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--@mbggenerated-->
    delete from FUN_DEPTSGROUP
    where GR_ID = #{grId,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="com.myfun.repository.erpdb.po.ErpFunDeptsgroupExample">
    <!--@mbggenerated-->
    delete from FUN_DEPTSGROUP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.myfun.repository.erpdb.po.ErpFunDeptsgroup">
    <!--@mbggenerated-->
    <selectKey keyProperty="grId" order="BEFORE" resultType="java.lang.Integer">
      SELECT next value for SEQ_FUN_DEPTSGROUP_GR_ID
    </selectKey>
    insert into FUN_DEPTSGROUP (GR_ID, GR_NAME, COMP_ID, 
      DEPT_ID, SEQ_NO, ADMIN_USER, 
      GR_CONTACT, GR_TELE, GR_DESC, 
      UPDATE_UID, UPDATE_TIME, IS_DEL, 
      PARTNER_ID)
    values (#{grId,jdbcType=INTEGER}, #{grName,jdbcType=VARCHAR}, #{compId,jdbcType=INTEGER}, 
      #{deptId,jdbcType=INTEGER}, #{seqNo,jdbcType=INTEGER}, #{adminUser,jdbcType=INTEGER}, 
      #{grContact,jdbcType=VARCHAR}, #{grTele,jdbcType=VARCHAR}, #{grDesc,jdbcType=VARCHAR}, 
      #{updateUid,jdbcType=INTEGER}, #{updateTime,jdbcType=VARCHAR}, #{isDel,jdbcType=TINYINT}, 
      #{partnerId,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.myfun.repository.erpdb.po.ErpFunDeptsgroup">
    <!--@mbggenerated-->
    <selectKey keyProperty="grId" order="BEFORE" resultType="java.lang.Integer">
      SELECT next value for SEQ_FUN_DEPTSGROUP_GR_ID
    </selectKey>
    insert into FUN_DEPTSGROUP
    <trim prefix="(" suffix=")" suffixOverrides=",">
      GR_ID,
      <if test="grName != null">
        GR_NAME,
      </if>
      <if test="compId != null">
        COMP_ID,
      </if>
      <if test="deptId != null">
        DEPT_ID,
      </if>
      <if test="seqNo != null">
        SEQ_NO,
      </if>
      <if test="adminUser != null">
        ADMIN_USER,
      </if>
      <if test="grContact != null">
        GR_CONTACT,
      </if>
      <if test="grTele != null">
        GR_TELE,
      </if>
      <if test="grDesc != null">
        GR_DESC,
      </if>
      <if test="updateUid != null">
        UPDATE_UID,
      </if>
      <if test="updateTime != null">
        UPDATE_TIME,
      </if>
      <if test="isDel != null">
        IS_DEL,
      </if>
      <if test="partnerId != null">
        PARTNER_ID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      #{grId,jdbcType=INTEGER},
      <if test="grName != null">
        #{grName,jdbcType=VARCHAR},
      </if>
      <if test="compId != null">
        #{compId,jdbcType=INTEGER},
      </if>
      <if test="deptId != null">
        #{deptId,jdbcType=INTEGER},
      </if>
      <if test="seqNo != null">
        #{seqNo,jdbcType=INTEGER},
      </if>
      <if test="adminUser != null">
        #{adminUser,jdbcType=INTEGER},
      </if>
      <if test="grContact != null">
        #{grContact,jdbcType=VARCHAR},
      </if>
      <if test="grTele != null">
        #{grTele,jdbcType=VARCHAR},
      </if>
      <if test="grDesc != null">
        #{grDesc,jdbcType=VARCHAR},
      </if>
      <if test="updateUid != null">
        #{updateUid,jdbcType=INTEGER},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=VARCHAR},
      </if>
      <if test="isDel != null">
        #{isDel,jdbcType=TINYINT},
      </if>
      <if test="partnerId != null">
        #{partnerId,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.myfun.repository.erpdb.po.ErpFunDeptsgroupExample" resultType="java.lang.Integer">
    <!--@mbggenerated-->
    select count(*) from FUN_DEPTSGROUP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--@mbggenerated-->
    update FUN_DEPTSGROUP
    <set>
      <if test="record.grId != null">
        GR_ID = #{record.grId,jdbcType=INTEGER},
      </if>
      <if test="record.grName != null">
        GR_NAME = #{record.grName,jdbcType=VARCHAR},
      </if>
      <if test="record.compId != null">
        COMP_ID = #{record.compId,jdbcType=INTEGER},
      </if>
      <if test="record.deptId != null">
        DEPT_ID = #{record.deptId,jdbcType=INTEGER},
      </if>
      <if test="record.seqNo != null">
        SEQ_NO = #{record.seqNo,jdbcType=INTEGER},
      </if>
      <if test="record.adminUser != null">
        ADMIN_USER = #{record.adminUser,jdbcType=INTEGER},
      </if>
      <if test="record.grContact != null">
        GR_CONTACT = #{record.grContact,jdbcType=VARCHAR},
      </if>
      <if test="record.grTele != null">
        GR_TELE = #{record.grTele,jdbcType=VARCHAR},
      </if>
      <if test="record.grDesc != null">
        GR_DESC = #{record.grDesc,jdbcType=VARCHAR},
      </if>
      <if test="record.updateUid != null">
        UPDATE_UID = #{record.updateUid,jdbcType=INTEGER},
      </if>
      <if test="record.updateTime != null">
        UPDATE_TIME = #{record.updateTime,jdbcType=VARCHAR},
      </if>
      <if test="record.isDel != null">
        IS_DEL = #{record.isDel,jdbcType=TINYINT},
      </if>
      <if test="record.partnerId != null">
        PARTNER_ID = #{record.partnerId,jdbcType=INTEGER},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--@mbggenerated-->
    update FUN_DEPTSGROUP
    set GR_ID = #{record.grId,jdbcType=INTEGER},
      GR_NAME = #{record.grName,jdbcType=VARCHAR},
      COMP_ID = #{record.compId,jdbcType=INTEGER},
      DEPT_ID = #{record.deptId,jdbcType=INTEGER},
      SEQ_NO = #{record.seqNo,jdbcType=INTEGER},
      ADMIN_USER = #{record.adminUser,jdbcType=INTEGER},
      GR_CONTACT = #{record.grContact,jdbcType=VARCHAR},
      GR_TELE = #{record.grTele,jdbcType=VARCHAR},
      GR_DESC = #{record.grDesc,jdbcType=VARCHAR},
      UPDATE_UID = #{record.updateUid,jdbcType=INTEGER},
      UPDATE_TIME = #{record.updateTime,jdbcType=VARCHAR},
      IS_DEL = #{record.isDel,jdbcType=TINYINT},
      PARTNER_ID = #{record.partnerId,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.myfun.repository.erpdb.po.ErpFunDeptsgroup">
    <!--@mbggenerated-->
    update FUN_DEPTSGROUP
    <set>
      <if test="grName != null">
        GR_NAME = #{grName,jdbcType=VARCHAR},
      </if>
      <if test="compId != null">
        COMP_ID = #{compId,jdbcType=INTEGER},
      </if>
      <if test="deptId != null">
        DEPT_ID = #{deptId,jdbcType=INTEGER},
      </if>
      <if test="seqNo != null">
        SEQ_NO = #{seqNo,jdbcType=INTEGER},
      </if>
      <if test="adminUser != null">
        ADMIN_USER = #{adminUser,jdbcType=INTEGER},
      </if>
      <if test="grContact != null">
        GR_CONTACT = #{grContact,jdbcType=VARCHAR},
      </if>
      <if test="grTele != null">
        GR_TELE = #{grTele,jdbcType=VARCHAR},
      </if>
      <if test="grDesc != null">
        GR_DESC = #{grDesc,jdbcType=VARCHAR},
      </if>
      <if test="updateUid != null">
        UPDATE_UID = #{updateUid,jdbcType=INTEGER},
      </if>
      <if test="updateTime != null">
        UPDATE_TIME = #{updateTime,jdbcType=VARCHAR},
      </if>
      <if test="isDel != null">
        IS_DEL = #{isDel,jdbcType=TINYINT},
      </if>
      <if test="partnerId != null">
        PARTNER_ID = #{partnerId,jdbcType=INTEGER},
      </if>
    </set>
    where GR_ID = #{grId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.myfun.repository.erpdb.po.ErpFunDeptsgroup">
    <!--@mbggenerated-->
    update FUN_DEPTSGROUP
    set GR_NAME = #{grName,jdbcType=VARCHAR},
      COMP_ID = #{compId,jdbcType=INTEGER},
      DEPT_ID = #{deptId,jdbcType=INTEGER},
      SEQ_NO = #{seqNo,jdbcType=INTEGER},
      ADMIN_USER = #{adminUser,jdbcType=INTEGER},
      GR_CONTACT = #{grContact,jdbcType=VARCHAR},
      GR_TELE = #{grTele,jdbcType=VARCHAR},
      GR_DESC = #{grDesc,jdbcType=VARCHAR},
      UPDATE_UID = #{updateUid,jdbcType=INTEGER},
      UPDATE_TIME = #{updateTime,jdbcType=VARCHAR},
      IS_DEL = #{isDel,jdbcType=TINYINT},
      PARTNER_ID = #{partnerId,jdbcType=INTEGER}
    where GR_ID = #{grId,jdbcType=INTEGER}
  </update>
	<resultMap extends="BaseResultMap" id="ErpFunDeptsgroupDtoMap" type="com.myfun.repository.erpdb.dto.ErpFunDeptsgroupDto" />
  <update id="updateBaseInfo">
  	  update FUN_DEPTSGROUP
	    <set>
	      <if test="pMap.grName != null">
	        GR_NAME = #{pMap.grName,jdbcType=VARCHAR},
	      </if>
	      <if test="pMap.compId != null">
	        COMP_ID = #{pMap.compId,jdbcType=INTEGER},
	      </if>
	      <if test="pMap.deptId != null">
	        DEPT_ID = #{pMap.deptId,jdbcType=INTEGER},
	      </if>
	      <if test="pMap.seqNo != null">
	        SEQ_NO = #{pMap.seqNo,jdbcType=INTEGER},
	      </if>
	      <if test="pMap.adminUser != null">
	        ADMIN_USER = #{pMap.adminUser,jdbcType=INTEGER},
	      </if>
	      <if test="pMap.grContact != null">
	        GR_CONTACT = #{pMap.grContact,jdbcType=VARCHAR},
	      </if>
	      <if test="pMap.grTele != null">
	        GR_TELE = #{pMap.grTele,jdbcType=VARCHAR},
	      </if>
	      <if test="pMap.grDesc != null">
	        GR_DESC = #{pMap.grDesc,jdbcType=VARCHAR},
	      </if>
	      <if test="pMap.updateUid != null">
	        UPDATE_UID = #{pMap.updateUid,jdbcType=INTEGER},
	      </if>
	      <if test="pMap.updateTime != null">
	        UPDATE_TIME = #{pMap.updateTime,jdbcType=VARCHAR},
	      </if>
	    </set>
	    where GR_ID = #{pMap.grId,jdbcType=INTEGER}
  </update>
  <insert id="insertBaseInfo" useGeneratedKeys="true">
	    <selectKey keyProperty="grId" order="BEFORE" resultType="java.lang.Integer">
	      SELECT next value for SEQ_FUN_DEPTSGROUP_GR_ID
	    </selectKey>
    insert into FUN_DEPTSGROUP
    <trim prefix="(" suffix=")" suffixOverrides=",">
      GR_ID,
      <if test="pMap.grName != null">
        GR_NAME,
      </if>
      <if test="pMap.compId != null">
        COMP_ID,
      </if>
      <if test="pMap.deptId != null">
        DEPT_ID,
      </if>
      <if test="pMap.seqNo != null">
        SEQ_NO,
      </if>
      <if test="pMap.adminUser != null">
        ADMIN_USER,
      </if>
      <if test="pMap.grContact != null">
        GR_CONTACT,
      </if>
      <if test="pMap.grTele != null">
        GR_TELE,
      </if>
      <if test="pMap.grDesc != null">
        GR_DESC,
      </if>
      <if test="pMap.updateUid != null">
        UPDATE_UID,
      </if>
      <if test="pMap.updateTime != null">
        UPDATE_TIME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      #{grId,jdbcType=INTEGER},
      <if test="pMap.grName != null">
        #{pMap.grName,jdbcType=VARCHAR},
      </if>
      <if test="pMap.compId != null">
        #{pMap.compId,jdbcType=INTEGER},
      </if>
      <if test="pMap.deptId != null">
        #{pMap.deptId,jdbcType=INTEGER},
      </if>
      <if test="pMap.seqNo != null">
        #{pMap.seqNo,jdbcType=INTEGER},
      </if>
      <if test="pMap.adminUser != null">
        #{pMap.adminUser,jdbcType=INTEGER},
      </if>
      <if test="pMap.grContact != null">
        #{pMap.grContact,jdbcType=VARCHAR},
      </if>
      <if test="pMap.grTele != null">
        #{pMap.grTele,jdbcType=VARCHAR},
      </if>
      <if test="pMap.grDesc != null">
        #{pMap.grDesc,jdbcType=VARCHAR},
      </if>
      <if test="pMap.updateUid != null">
        #{pMap.updateUid,jdbcType=INTEGER},
      </if>
      <if test="pMap.updateTime != null">
        #{pMap.updateTime,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
	
	<select id="getGroupListByCondition" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		FROM FUN_DEPTSGROUP
		where IS_DEL = 0
        <if test="null != pMap.compId">
            AND COMP_ID = #{pMap.compId}
        </if>
        <if test="null != pMap.deptId">
            AND DEPT_ID = #{pMap.deptId}
        </if>
        <if test="null != pMap.grId">
            AND GR_ID = #{pMap.grId}
        </if>
        <if test="null != pMap.isDel">
            AND IS_DEL = #{pMap.isDel}
        </if>
	</select>
	
	<select id="getAllGroupCount" resultMap="BaseResultMap">
		SELECT <include refid="Base_Column_List" />
		FROM FUN_DEPTSGROUP
		WHERE IS_DEL = 0 and COMP_ID = #{compId}
		<if test="null != deptId and '' != deptId">
			AND DEPT_ID = #{deptId}
		</if>
	</select>
	<select id="getDeptGroupsByGrIds" resultMap="BaseResultMap">
      select <include refid="Base_Column_List" /> from FUN_DEPTSGROUP where comp_id=#{compId} and IS_DEL=0 and GR_ID in <foreach close=")" collection="grIds" item="grId" open="(" separator=",">
          #{grId}
      </foreach>
    </select>

    <select id="getGrByGrIdsDel" resultMap="BaseResultMap">
      select <include refid="Base_Column_List" /> from FUN_DEPTSGROUP where comp_id=#{compId} and GR_ID in <foreach close=")" collection="grIds" item="grId" open="(" separator=",">
          #{grId}
      </foreach>
    </select>

	<select id="selectGroupList" resultMap="BaseResultMap">
      SELECT A.GR_ID, A.GR_NAME, A.COMP_ID, A.DEPT_ID, A.SEQ_NO, A.ADMIN_USER, A.GR_CONTACT, A.GR_TELE, A.GR_DESC,
      A.UPDATE_UID, A.UPDATE_TIME, A.IS_DEL ,A.PARTNER_ID  FROM FUN_DEPTSGROUP A
		JOIN FUN_DEPTS B ON A.DEPT_ID= B.DEPT_ID AND B.DEPT_FLAG &gt; 0
		WHERE B.COMP_ID=#{compId} AND A.IS_DEL = 0 AND
		<choose>
			<when test="manageRangeRangeType == 1"> B.COMP_ID </when>
			<when test="manageRangeRangeType == 2"> B.AREA_ID </when>
			<when test="manageRangeRangeType == 3"> B.REG_ID </when>
			<when test="manageRangeRangeType == 4"> B.DEPT_ID </when>
			<when test="manageRangeRangeType == 5"> A.GR_ID </when>
		</choose>
		IN
		<foreach close=")" collection="userManageRangeIds" item="userManageRangeId" open="(" separator=",">
			#{userManageRangeId}
		</foreach>
	</select>
	
	<select id="selectGroupListRank" resultMap="BaseResultMap">
		SELECT A.GR_ID, A.GR_NAME, A.COMP_ID, A.DEPT_ID, A.SEQ_NO, A.ADMIN_USER, A.GR_CONTACT, A.GR_TELE, A.GR_DESC,
      A.UPDATE_UID, A.UPDATE_TIME, A.IS_DEL FROM FUN_DEPTSGROUP A
		JOIN FUN_DEPTS B ON A.DEPT_ID= B.DEPT_ID AND B.DEPT_FLAG &gt; 0
		WHERE B.COMP_ID=#{compId} AND a.DEPT_ID = #{deptId}
		AND ( A.IS_DEL = 0
		<if test="null != updateTime and updateTime != ''">
			OR ( A.IS_DEL = 1 AND A.UPDATE_TIME &gt;= #{updateTime})
		</if>
		)
	</select>
	
	<select id="getCacheableGroupListByCompId" resultMap="BaseResultMap">
     select
        <include refid="Base_Column_List" />
      from
      FUN_DEPTSGROUP
      where COMP_ID=#{compId} AND ( IS_DEL = 0
      <if test="null != updateTime and updateTime != ''">
		OR (IS_DEL = 1 AND UPDATE_TIME &gt;= #{updateTime})
      </if>
      )
    </select>

    <select id="getDataByGrId" resultMap="BaseResultMap">
        select
          <include refid="Base_Column_List" />
        from
        FUN_DEPTSGROUP
        where GR_ID=#{grId}
    </select>

	<update id="updateByDeptGrId" parameterType="com.myfun.erpWeb.managecenter.sysmanager.param.MoveUserToNewGroupParam">
		UPDATE FUN_DEPTSGROUP
		SET ADMIN_USER = #{param.adminUser},
		 COMP_ID = #{param.compId},
		 DEPT_ID =#{param.deptId},
		 GR_CONTACT = #{param.grContact},
		 GR_DESC = #{param.grDesc},
		 GR_NAME =  #{param.grName},
		 GR_TELE =#{param.grTele},
		 IS_DEL = #{param.isDel},
		 SEQ_NO = #{param.seqNo},
		 UPDATE_TIME = #{param.updateTime},
		 UPDATE_UID = #{param.updateUId}
		WHERE
			DEPT_ID = #{param.deptId}
		AND GR_ID =#{param.grId}
	</update>

    <select id="countGroupByGrName" resultType="java.lang.Integer">
        select count (*)
        from FUN_DEPTSGROUP
        where  COMP_ID=#{compId}  and DEPT_ID = #{deptId} and GR_NAME =  #{grName} and IS_DEL=0
    </select>
	
	<select id="getModelDataById" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from
		FUN_DEPTSGROUP
		where GR_ID=#{grId} and IS_DEL=0 and COMP_ID=#{compId}
	</select>
    <select id="getGroupListByGrIdSet" resultMap="BaseResultMap">
            select GR_ID,DEPT_ID from  FUN_DEPTSGROUP
            where comp_id = #{compId} and gr_id in <foreach close=")" collection="grIdSet" item="grId" open="(" separator=",">
            #{grId}
        </foreach>
    </select>
    <select id="getGroupListBynamicId" resultMap="BaseResultMap">
        select <include refid="Base_Column_List" /> from FUN_DEPTSGROUP
         where comp_id=#{compId} and ${columnName} = #{columnValue}
    </select>

	<select id="getGroupListByDeptId" resultMap="ErpFunDeptsgroupDtoMap">
		select
		<include refid="Base_Column_List" />
		from
		FUN_DEPTSGROUP
		where IS_DEL=0 and COMP_ID=#{compId}
		<if test="null != deptId">
			AND DEPT_ID = #{deptId}
		</if>
		ORDER BY SEQ_NO ASC
	</select>

  <resultMap id="BaseInfoResultMap" type="com.myfun.repository.erpdb.po.ErpFunDeptsgroup">
    <id column="GR_ID" jdbcType="INTEGER" property="grId" />
    <result column="GR_NAME" jdbcType="VARCHAR" property="grName" />
    <result column="DEPT_ID" jdbcType="INTEGER" property="deptId" />
    <result column="PARTNER_ID" jdbcType="INTEGER" property="partnerId" />
  </resultMap>
  <select id="getGroupBaseInfoList" resultMap="BaseInfoResultMap">
     select dept_id, gr_id,gr_name, PARTNER_ID from FUN_DEPTSGROUP where comp_id=#{compId} and is_del=0
  </select>
</mapper>